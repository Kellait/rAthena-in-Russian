//===== rAthena Script ======================================= 
//= Sage Job Quest
//===== By: ==================================================
//= jAthena (0.9) - I guess
//= Unknown Translator (1.0)
//= Darkchild (1.2)
//===== Current Version: ===================================== 
//= 2.8
//===== Compatible With: ===================================== 
//= rAthena SVN
//===== Description: ========================================= 
//= [Aegis Conversion]
//= Job quest for Sage classes
//===== Additional Comments: ================================= 
//= 2.1 Rescripted to Aegis 10.3 stadards. [L0ne_W0lf]
//=	No longer uses function "F_BlockHigh"
//= 2.2 Small bug fix (== -> !=) thanks to Saithis. [L0ne_W0lf]
//= 2.2b ANotehr smaLL bugfix, pointed out by Cara. [L0ne_W0lf]
//= 2.3 Corrected NPC names to fall within proper restrictions. [L0ne_W0lf]
//= 2.4 Fixes bug with first room monsters not being reset. [L0ne_W0lf]
//= 2.4a Deleted unused variables. [Samuray22]
//= 2.5 Updated waiting room. (Removes global var) [L0ne_W0lf]
//= 2.5a Corrected some "mes"s without the getitemname. (bugreport:1564) [Samuray22]
//	-Changed an incorrect "!=" to "==". (bugreport:1572) 
//	-And Small Typo Error
//= 2.6 Fixed Kayron Grik cutin not being removed as reported by jc1991, bugreport:1825 [Brainstorm]
//= 2.6a Fixed a Little Bug with Whispers Summoned in the Last Test. (bugreport:2253) [Samuray22]
//= 2.7 Added Quest Log commands. [Kisuka]
//= 2.8 Removed the need for use of 'goto.' [L0ne_W0lf] 
//============================================================
//= Translated en -> ru [Akaineko]
//============================================================ 

yuno_in02,38,61,5	script	Dean of the Academy#sa	743,{
	cutin "job_sage_kayron",2;
	mes "[Кайрон Грик]";
	if (Upper == 1) {
		mes "Ха-ха, я видал разных людей,";
		mes "но вы, похоже, обладаете особенными силами и способностями.";
		next;
		mes "[Кайрон Грик]";
		mes "Советую вам заняться своим делами.";
		mes "Не забывайте: и вы когда-то были новичком.";
		close2;
		cutin "job_sage_kayron",255;
		end;
	}
	if (BaseJob != Job_Mage) {
		if (BaseJob == Job_Sage) {
			mes "Что привело вас сюда, коллега? Какие-то проблемы?";
			mes "То, что вы - Мудрец, вовсе не означает, что вы можете останавливаться в учении.";
			next;
			mes "[Кайрон Грик]";
			mes "Наше знание является главной движущей силой прогресса, помогающего королевству развиваться быстрее.";
			mes "Помните: вы должны учиться и фиксировать всё, что вам удастся узнать, ибо любое знание содержит в себе преимущество.";
		}
		else if (BaseJob == Job_Novice) {
			mes "Хахах, итак, " + (Sex?"молодой человек":"девушка") + ", что же привело вас сюда? ...Полагаю, вы на экскурсии?";
			mes "Вам, должно быть, потребовалось приложить немало усилий, чтобы добраться сюда. Должен сказать, вы выглядите заинтересованн" + (Sex?"ым":"ой") + " Мудрецами.";
			next;
			mes "[Кайрон Грик]";
			mes "Если вы стремитесь стать Мудрецом, вам нужно сначала прожить жизнь Мага. Только тогда у вас будет шанс.";
			mes "Я с нетерпением жду вас вновь.";
		}
		else {
			mes "*Посмеивается* Хотя мы изучаем этот мир уже долгое время, я уверен, что знание способно удовлетворить все нужды людей.";
			mes "И другие классы так же важны для благосостояния Рун-Мидгарда...";
			next;
			mes "[Кайрон Грик]";
			mes "Однако, если вам посчастливится встретить в своих странствиях Мудреца, надеюсь, вы предложите ему свою помощь.";
			mes "И он, я уверен, ответит вам взаимностью...";
		}
		close2;
		cutin "job_sage_kayron",255;
		end;
	}
	if (SAGE_Q == 0) {
		cutin "job_sage_kayron",2;
		mes "Добро пожаловать, " + (Sex?"молодой человек":"леди") + ". Я вижу, вы заинтригованы чудесами магии.";
		mes "Итак, что же привело вас ко мне?";
		next;
		switch(select("Я хочу стать Мудрецом.:Расскажите, как получить профессию Мудреца.:Ничего.")) {
		case 1:
			mes "[Кайрон Грик]";
			mes "Хм? Вы хотите стать Мудрецом?";
			mes "Что ж, должен сказать, на Мудрецах возлежат определённые обязанности.";
			next;
			mes "[Кайрон Грик]";
			mes "Мудрецы - это люди, толкающие вперёд развитие этого континента, бесконечно изучая и записывая всё, что так или иначе имеет отношение к этому Миру.";
			mes "Стать Мудрецом значит не просто сменить мантию: это важная работа, требующая постоянного осознания своего долга и ответственности перед человечеством.";
			next;
			mes "[Кайрон Грик]";
			mes "Вы можете обратиться в приёмную комиссию Швайхербилской Академии Магии.";
			mes "Уверен, там вам смогут подробно обьяснить, что нужно, чтобы стать Мудрецом.";
			break;
		case 2:
			mes "[Кайрон Грик]";
			mes "Получить профессию Мудреца...";
			mes "Хотя мы говорим именно так, будет неуместно думать, что стать Мудрецом значит просто сменить род занятий.";
			next;
			mes "[Кайрон Грик]";
			mes "Тем не менее... Чтобы стать Мудрецом, вам нужно будет подать заявку в приёмную комиссию Швайхербилской Академии Магии.";
			mes "Затем - сдать вступительные экзамены.";
			next;
			mes "[Кайрон Грик]";
			mes "По результатам экзаменов студентов распределяют по группам для изучения определённого предмета...";
			mes "Вам нужно будет написать диссертацию по своему предмету и представить её в университет.";
			next;
			mes "[Кайрон Грик]";
			mes "Я одиз из тех, кто будет оценивать вашу диссертацию.";
			mes "Когда вы закончите все курсы, вы станете Мудрецом.";
			next;
			mes "[Кайрон Грик]";
			mes "Пожалуйста, обратитесь в Швайхербилскую Академию Магии.";
			mes "Молодой Мудрец Маттиас Сильф примет вашу заявку.";
			break;
		case 3:
			mes "[Кайрон Грик]";
			mes "Ясно... Что ж, раз вы располагаете свободным временем, я советую вам внимательнейшим образом прочесть столько книг, сколько возможно.";
			mes "Между их страниц можно найти и изучить практически любой аспект Мира.";
			next;
			mes "[Кайрон Грик]";
			mes "Разумеется, от простого перечитывания всех книг подряд самым умным не станешь...";
			mes "Однако для меня знания, почерпнутые из книг, зачастую оказываются самыми значимыми.";
		}
		close2;
		cutin "job_sage_kayron",255;
		end;
	}
	else if (SAGE_Q == 15) {
		if (countitem(1550) > 0) {
			if (JobLevel < 40) {
				set SAGE_Q,0;
				mes "Похоже, вы ещё недостаточно квалифицированы.";
				mes "Помните, чтобы стать Мудрецом, необходимо быть Магом как минимум 40 профессионального уровня.";
				close2;
				cutin "job_sage_kayron",255;
				end;
			}
			if (SkillPoint) {
				mes "У вас остались неиспользованные очки умений...";
				mes "Перед тем, как подавать диссертацию на рассмотрение, позаботьтесь о них.";
				close2;
				cutin "job_sage_kayron",255;
				end;
			}
			mes "О~ Итак? Вы закончили диссертацию? Замечательно.";
			mes "Позвольте взглянуть.";
			next;
			mes "[Кайрон Грик]";
			mes "Хмм...";
			next;
			mes "[Кайрон Грик]";
			mes "Хех...";
			next;
			mes "[Кайрон Грик]";
			mes "Интересно...";
			next;
			mes "[Кайрон Грик]";
			mes "Написано сыровато, но в целом работа хороша, особенно для начинающего.";
			mes "И, да... По-видимому, вы хороший учёный.";
			next;
			completequest 2052;
			callfunc "Job_Change",Job_Sage;
			callfunc "F_ClearJobVar";
			mes "[Кайрон Грик]";
			mes "Поздравляю! Теперь вы стали Мудрецом.";
			mes "Всегда старайтесь сохранять научный, аналитический образ мыслей.";
			next;
			mes "[Кайрон Грик]";
			mes "Берегите эту диссертацию, так как это первая и единственная ваша публикация.";
			mes "Однажды она может вам пригодиться. И всегда будет служить напоминанием об этом грандиозном моменте.";
			next;
			mes "[Кайрон Грик]";
			mes "Что ж... Пусть Бог наполнит ваш путь знанием.";
			mes "Учитесь с усердием!!";
		}
		else {
			mes "Хмм? Что с вами случилось? Где вы оставили свою диссертацию?";
			mes "Принесите её ко мне.";
			next;
			mes "[Кайрон Грик]";
			mes "Погодите... Надеюсь, вы её не потеряли?";
			mes "Что ж, это ваше дело. Прискорбно, однако, то, что у вас не будет больше шанса написать подобную публикацию.";
		}
	}
	else {
		mes "*Посмеивается* Стать Мудрецом не так просто, как вы могли подумать.";
		mes "Ваши магические способности пока неадекватны...";
		next;
		mes "[Кайрон Грик]";
		mes "Учитесь прилежно и возвращайтесь, когда закончите диссертацию.";
		mes "До встречи!";
	}
	close2;
	cutin "",255;
	end;
}

yuno_in03,154,35,4	script	Staff of the Academy#a	742,{
	mes "[Маттиас Сильф]";
	if (Upper == 1) {
		mes "Добро пожаловать";
		mes "в Швайхербилскую Академию";
		mes "Магии. П-погодите...";
		mes "Я вас знаю?";
		next;
		mes "[Маттиас Сильф]";
		mes "Мы встречались раньше,";
		mes "не так ли? Чёрт, я, должно быть,";
		mes "выгляжу идиотом. Прошу";
		mes "прощения, я в последнее время ";
		mes "не высыпаюсь. Что ж, доброго дня~";
		close;
	}
	if (BaseJob != Job_Mage) {
		if (BaseJob == Job_Sage) {
			mes "О, сколько лет, сколько зим.";
			mes "Как поживает твоя учёба?";
			next;
			mes "[Маттиас Сильф]";
			mes "Изучать книги и магические свитки дни напролёт - это похвально, ";
			mes "но чтобы стать опытным Мудрецом, тебе следует как можно больше сражаться с монстрами.";
			next;
			mes "[Маттиас Сильф]";
			mes "Если ты знаешь кого-нибудь, кто собирается идти в Мудрецы, не скупись на наставления...";
			mes "И передавай от мнея приветы своим коллегам.";
		}
		else if (BaseJob == Job_Novice) {
			mes "Добро пожаловать в Швайхербилскую Академию Магии.";
			next;
			mes "[Маттиас Сильф]";
			mes "В это месте занимаются обучением Мудрецов. В основном мы изучаем монстров и заклинания.";
			mes "Мы всегда рады новым студентам.";
			next;
			mes "[Маттиас Сильф]";
			mes "До вступительных экзаменов допускаются Маги, достигшие 40 профессионального уровня.";
			mes "После прохождения определённых курсов они могут претендовать на степень Мудреца.";
			next;
			mes "[Маттиас Сильф]";
			mes "Если вы заинтересованы в Мудрецах, возвращайтесь.";
			mes "Доброго дня.";
		}
		else {
			mes "Добро пожаловать в Швайхербилскую Академию Магии.";
			next;
			mes "[Маттиас Сильф]";
			mes "В это месте занимаются обучением Мудрецов. Мы изучаем монстров и заклинания.";
			mes "Мы всегда рады новым студентам.";
			next;
			mes "[Маттиас Сильф]";
			mes "Если у вас есть друзья среди Магов, пожалуйста, расскажите им об этой Академии.";
			mes "Доброго дня.";
		}
		close;
	}
	if (SAGE_Q == 0) {
		mes "Добро пожаловать в Швайхербилскую Академию Магии.";
		mes "О, вы Маг. Чем могу помочь?";
		next;
		switch(select("Могу ли я узнать, как стать Мудрецом.:Я хочу поступить в Академию.:Ничем.")) {
		case 1:
			mes "[Маттиас Сильф]";
			mes "К сожалению, мы не вправе утверждать Мудрецов.";
			next;
			mes "[Маттиас Сильф]";
			mes "После того, как вы поступите в Академию и пройдёте курс обучения...";
			mes "Вы получите учёную степень и официальное разрешение вести исследования как Мудрец.";
			next;
			mes "[Маттиас Сильф]";
			mes "Поэтому мы говорим об этом не как о смене профессии, но как о получении учёной степени.";
			mes "В любом случае, если вы соберётесь поступать, я расскажу о вступительном взносе и выдам допуск к экзаменам.";
			next;
			mes "[Маттиас Сильф]";
			mes "Если вы принесёте Старую волшебную книгу [^3355FF'Old Magicbook'^000000] и Ожерелье Мудрости [^3355FF'Necklace of Wisdom'^000000], ";
			mes "вы будете освобождены от уплаты вступительного взноса.";
			next;
			mes "[Маттиас Сильф]";
			mes "После подачи заявки вам нужно будет сдать экзамены.";
			mes "Если вы сдадите успешно, вы будете допущены до изучения определённого предмета и написания диссертации по нему.";
			next;
			mes "[Маттиас Сильф]";
			mes "Декан Академии решит, достаточно ли вы квалифицированы.";
			mes "Если он вас признает, вы сможете присоединиться к исследовательской деятельности Мудрецов.";
			next;
			mes "[Маттиас Сильф]";
			mes "Мы всегда вам рады.";
			mes "Доброго дня.";
			close;
		case 2:
			mes "[Маттиас Сильф]";
			mes "Итак, вы хотите поступить к нам. Ещё раз добро пожаловать в Швайхербилскую Академию Магии.";
			next;
			mes "[Маттиас Сильф]";
			mes "Достаточно квалифицированными для поступления в Академию признаются Маги, достигшие 40 профессионального уровня.";
			mes "Также от вас потребуется небольшой вступительный взнос.";
			next;
			mes "[Маттиас Сильф]";
			mes "Он составляет 70'000 зен.";
			mes "Однако если вы принесёте Старую волшебную книгу [^3355FFOld Magicbook^000000] и Ожерелье Мудрости [^3355FFNecklace of Wisdom^000000], вы будете освобождены от уплаты взноса.";
			next;
			mes "[Маттиас Сильф]";
			mes "Итак, приступаем?";
			next;
			switch(select("Да.:70 тысяч...:Я вернусь позже.")) {
			case 1:
				if (JobLevel < 40) {
					mes "[Маттиас Сильф]";
					mes "К сожалению, вы ещё недостаточно опытны в магии.";
					mes "Продолжайте учиться, пока не достигнете 40 профессионального уровня.";
					close;
				}
				if (SkillPoint) {
					mes "[Маттиас Сильф]";
					mes "У вас остались нераспределённые очки умений. Изучите все те умения, которые запланировали изучить.";
					mes "Мы не принимаем кандидатов, не определившихся с самим собой.";
					close;
				}
				mes "[Маттиас Сильф]";
				mes "Отлично. Давайте заполним вашу заявку.";
				mes "Поставьте подпись здесь.";
				next;
				select(strcharinfo(0));
				mes "[Маттиас Сильф]";
				mes "Ваше имя... " + strcharinfo(0) + ". Хорошее имя.";
				next;
				if (JobLevel == 50) {
					mes "[Маттиас Сильф]";
					mes "О, вы полностью освоили профессию Мага! Великолепно!! *Хлоп-хлоп-хлоп*";
					mes "В награду за ваше усердие вы будете освобождены от уплаты вступительного взноса!";
					next;
					mes "[Маттиас Сильф]";
					mes "Ну вот, всё готово.";
					mes "Теперь вас ждёт письменный экзамен.";
					set SAGE_Q,4;
					setquest 2041;
					next;
					mes "[Маттиас Сильф]";
					mes "Пройдите к профессору Клайтосу.";
					mes "Он в левой аудитории.";
					close;
				}
				mes "[Маттиас Сильф]";
				mes "Будете ли вы платить 70'000 зен?";
				mes "Или вы принесли Старую волшебную книгу [^3355FFOld Magicbook^000000] и Ожерелье Мудрости [^3355FFNecklace of Wisdom^000000]?";
				next;
				if (select("Заплатить зени.:Отдать предметы.") == 1) {
					if (Zeny > 69999) {
						set zeny,zeny-70000;
						mes "[Маттиас Сильф]";
						mes "Спасибо, ваша заявка принята.";
						mes "Теперь вас ждёт письменный экзамен.";
						set SAGE_Q,4;
						setquest 2041;
						next;
						mes "[Маттиас Сильф]";
						mes "Пройдите к профессору Клайтосу.";
						mes "Он в левой аудитории.";
						close;
					}
					mes "[Маттиас Сильф]";
					mes "Какой позор! Того, что вы принесли, не хватает на оплату обучения.";
					mes "Пожалуйста, перед тем, как пытаться поступать, проверьте свой кошелёк.";
					close;
				}
				if (countitem(1006) > 0 && countitem(1007) > 0) {
					delitem 1006,1; //Old_Magic_Book
					delitem 1007,1; //Penetration
					mes "[Маттиас Сильф]";
					mes "Спасибо, ваша заявка принята.";
					mes "Теперь вас ждёт письменный экзамен.";
					set SAGE_Q,4;
					setquest 2041;
					next;
					mes "[Маттиас Сильф]";
					mes "Пройдите к профессору Клайтосу.";
					mes "Он в левой аудитории.";
					close;
				}
				mes "[Маттиас Сильф]";
				mes "Эмм... Похоже, у вас чего-то не хватает?";
				mes "Полагаю, вы их где-то забыли. Найдите их и возвращайтесь.";
				close;
			case 2:
				if (JobLevel < 40) {
					mes "[Маттиас Сильф]";
					mes "Прежде чем беспокоиться о вступительном взносе, вам бы достигнуть 40 профессионального уровня.";
					mes "Пожалуйста, закончите учёбу и возвращайтесь.";
					close;
				}
				if (JobLevel == 50) {
					mes "[Маттиас Сильф]";
					mes "Ну, в этом я ничем не могу помочь. Если вы не можете заплатить вступительный взнос, то не сможете поступить в Академию.";
					mes "Даже если плата кажется вам слишком высокой, на самом деле это оправданная цена за то, чтобы стать Мудрецом.";
					next;
					mes "[Маттиас Сильф]";
					mes "В любом случае... о! Вы же полностью освоили профессию Мага! Да вы просто пример для подражания!! *Хлоп-хлоп-хлоп*";
					mes "В награду за ваше усердие вы будете освобождены от уплаты вступительного взноса!";
					next;
					mes "[Маттиас Сильф]";
					mes "Ну, давайте заполним заявку!";
					mes "Поставьте подпись здесь.";
					next;
					select(strcharinfo(0));
					mes "[Маттиас Сильф]";
					mes "Ваше имя ... " + strcharinfo(0) + ". Хорошее имя.";
					next;
					mes "[Маттиас Сильф]";
					mes "Ну вот, готово.";
					mes "Теперь вам предстоит письменный экзамен.";
					set SAGE_Q,4;
					setquest 2041;
					next;
					mes "[Маттиас Сильф]";
					mes "Пройдите к профессору Клайтосу.";
					mes "Он в левой аудитории.";
					close;
				}
				if (Zeny > 43210) {
					mes "[Маттиас Сильф]";
					mes "Ну, в этом я ничем не могу помочь. Если вы не можете заплатить вступительный взнос, то не сможете поступить в Академию.";
					mes "Даже если плата кажется вам слишком высокой, на самом деле это оправданная цена за то, чтобы стать Мудрецом.";
					next;
					mes "[Маттиас Сильф]";
					mes "В качестве альтернативного варианта вы можете попытаться найти ^3355FF'Old Magicbook'^000000 и ^3355FF'Necklace of Wisdom'^000000.";
					mes "Если вам это не подходит, придётся копить деньги для вступительного взноса.";
					next;
					mes "[Маттиас Сильф]";
					mes "До встречи и доброго дня.";
					close;
				}
				else {
					mes "[Маттиас Сильф]";
					mes "О, полагаю, вам не хватает денег?";
					mes "Согласно правилам, вы должны заплатить 70 000 зен...";
					next;
					if (select("Пожалуйста...может, есть другой способ?:Хорошо, я сейчас вернусь.") == 1) {
						mes "[Маттиас Сильф]";
						mes "Хмммм... есть один вариант.";
						mes "Вы платите 30 000 зен и приносите некоторые предметы в качестве компенсации скидки.";
						next;
						switch(rand(1,3)) {
						case 1:
							set SAGE_Q,1;
							setquest 2043;
							mes "[Маттиас Сильф]";
							mes "Вам нужно будет принести следующее:";
							mes "50 ^3355FFFeather of Birds^000000";
							mes "50 ^3355FFFluff^000000";
							mes "25 ^3355FFIron Ore^000000.";
							next;
							mes "[Маттиас Сильф]";
							mes "Если вы принесёте эти предметы, ваш вступительный взнос будет уменьшен до 30 000 зен.";
							break;
						case 2:
							set SAGE_Q,2;
							setquest 2044;
							mes "[Маттиас Сильф]";
							mes "Вам нужно будет принести следующее:";
							mes "50 ^3355FFClover^000000";
							mes "50 ^3355FFFeather^000000";
							mes "25 ^3355FFSquid Ink^000000";
							next;
							mes "[Маттиас Сильф]";
							mes "Если вы принесёте эти предметы, ваш вступительный взнос будет уменьшен до 30 000 зен.";
							break;
						case 3:
							set SAGE_Q,3;
							setquest 2045;
							mes "[Маттиас Сильф]";
							mes "Вам нужно будет принести следующее:";
							mes "50 ^3355FFFeather of Birds^000000";
							mes "50 ^3355FFFluff^000000";
							mes "50 ^3355FFClover^000000";
							mes "50 ^3355FFFeather^000000";
							next;
							mes "[Маттиас Сильф]";
							mes "Если вы принесёте эти предметы, ваш вступительный взнос будет уменьшен до 30 000 зен.";
						}
						mes "Уверен, этот вариант вам подойдёт.";
						next;
						mes "[Маттиас Сильф]";
						mes "И да, если вам посчастливится иметь 70 000 зен, я буду более чем счастлив принять полный взнос.";
						mes "Это, в конце концов, наша изначальная политика.";
						next;
						mes "[Маттиас Сильф]";
						mes "Или вы можете принести Старую волшебную книгу [^3355FFOld Magicbook^000000] и Ожерелье Мудрости [^3355FFNecklace of Wisdom^000000].";
						mes "До встречи и доброго дня.";
						close;
					}
					mes "[Маттиас Сильф]";
					mes "Конечно, не стоит спешить...";
					mes "До встречи и доброго дня.";
					close;
				}
			case 3:
				mes "[Маттиас Сильф]";
				mes "Конечно, не стоит спешить...";
				mes "До встречи и доброго дня.";
				close;
			}
		case 3:
			mes "[Маттиас Сильф]";
			mes "Конечно, не стоит спешить. Можете осмотреться тут.";
			mes "До встречи и хорошего дня.";
			close;
		}
	}
	else if (SAGE_Q >= 1 && SAGE_Q <= 3) {
		mes "Добро пожаловать ещё раз.";
		next;
		if (countitem(1006) > 0 && countitem(1007) > 0) {
			delitem 1006,1; //Old_Magic_Book
			delitem 1007,1; //Penetration
			mes "[Маттиас Сильф]";
			mes "Отлично. Приступим к следующему этапу.";
			set SAGE_Q,4;
			next;
		}
		else if (Zeny > 69999) {
			set zeny,zeny-70000;
			mes "[Маттиас Сильф]";
			mes "Отлично. Приступим к следующему этапу.";
			set SAGE_Q,4;
			next;
		}
		else {
			switch (SAGE_Q) {
			case 1:
				//Feather_Of_Bird, Fluff, Iron_Ore
				setarray .@item[0], 916,914,1002; 
				setarray .@count[0], 50,50,25; 
				break;
			case 2:
				//Clover, Feather, Chinese_Ink
				setarray .@item[0], 705,949,1024;
				setarray .@count[0], 50,50,25;
				break;
			case 3:
				//Feather_Of_Bird, Fluff, Clover, Feather
				setarray .@item[0], 916,914,705,949;
				setarray .@count[0], 50,50,50,50;
				break;
			}
			set .@size, (getarraysize(.@item)-1); 
			for( set .@i,0 ; .@i < .@size && countitem(.@item[.@i]) >= .@count[.@i] ; set .@i,.@i+1 );
			if(.@i == .@size) {  
				if (Zeny > 29999) {
					for (set .@i, 0; .@i < .@size ; set .@i, .@i+1)
						delitem .@item[.@i], .@count[.@i];  
					set zeny,zeny-30000;
					mes "[Маттиас Сильф]";
					mes "Отлично. Перейдём к следующему этапу.";
					set .@SAGE_Q_T,SAGE_Q;
					set SAGE_Q,4;
					next;
				}
				mes "[Маттиас Сильф]";
				mes "К сожалению, вы ещё не готовы.";
				mes "Вы принесли все предметы, но денег у вас не хватает.";
				next;
				mes "[Маттиас Сильф]";
				mes "Как я уже говорил, вы должны принести и все эти предметы, и 30 000 зен единовременно.";
				mes "Пожалуйста, удотоверьтесь, что всё это при вас.";
				close;
			}
			else {
				mes "[Маттиас Сильф]";
				mes "К сожалению, у вас не хватает необходимых предметов.";
				next;
				mes "[Маттиас Сильф]";
				mes "Вы должны принести следующее:";
				mes .@count[0]+" ^3355FF"+getitemname(.@item[0])+"^000000";
				mes .@count[1]+" ^3355FF"+getitemname(.@item[1])+"^000000";
				mes .@count[2]+" ^3355FF"+getitemname(.@item[2])+"^000000";
				if (SAGE_Q == 3) mes .@count[3]+" ^3355FF"+getitemname(.@item[3])+"^000000";
				next;
				mes "[Маттиас Сильф]";
				mes "Если вы принесёте все эти предметы, ваш вступительный взнос будет уменьшен с 70 000 зен до 30 000.";
				mes "Удачи.";
				close;
			}
		}
		mes "[Маттиас Сильф]";
		mes "Давайте заполним заявку.";
		mes "Поставьте свою подпись здесь.";
		next;
		select(strcharinfo(0));
		mes "[Маттиас Сильф]";
		switch (.@SAGE_Q_T) {
		case 1: mes "Ваше имя ... " + strcharinfo(0) + ". Хорошее имя."; break;
		case 2: mes "Ваше имя ... " + strcharinfo(0) + ". Звучит благоразумно."; break;
		case 3: mes "Ваше имя ... " + strcharinfo(0) + ". Интересное имя."; break;
		}
		next;
		mes "[Маттиас Сильф]";
		mes "Всё готово.";
		mes "Теперь вам нужно сдать вступительный экзамен.";
		set SAGE_Q,4;
		if(checkquest(2043) != -1) {
			changequest 2043,2041;
		}
		else if(checkquest(2044) != -1) {
			changequest 2044,2041;
		}
		else if(checkquest(2045) != -1) {
			changequest 2045,2041;
		}
		else {
			setquest 2041;
		}
		next;
		mes "[Маттиас Сильф]";
		mes "Отправляйтесь к профессору Клайтосу.";
		mes "Он в левой аудитории.";
		close;
	}
	else if (SAGE_Q == 4) {
		mes "Хм? Что вы здесь делаете? Предполагается, что вы сейчас должны быть на вступительом экзамене.";
		mes "Отправляйтесь к профессору Клайтосу в левую аудиторию.";
		close;
	}
	else if (SAGE_Q == 15) {
		mes "О, ты закончил" + (Sex?"":"а") + " диссертацию?";
		mes "Покажи её декану Кайрону.";
		next;
		mes "[Маттиас Сильф]";
		mes "Ты хорошо постарал" + (Sex?"ся":"ась") + ", так что результат должен быть неплох.";
		mes "Удачи.";
		close;
	}
	else {
		mes "Ох, прошу прощения, но сейчас не самое удобное время для разговора.";
		mes "Приходите позже. Извините за беспокойство.";
		close;
	}
}

yuno_in03,105,177,5	script	Written Test Professor#s	754,{
	mes "[Клайтос Вердо]";
	if (BaseJob != Job_Mage) {
		if (BaseJob == Job_Sage) {
			mes "Э? Почему ты вернул" + (Sex?"ся":"ась") + "?";
			mes "Уж не хочешь ли ты поступить ещё раз?";
			next;
			mes "[Клайтос Вердо]";
			mes "Я понимаю твои чувства. Закончив Академию, ты получил" + (Sex?"":"а") + " степень Мудреца. Мудрец... до конца своих дней.";
			mes "Так что будь сильн" + (Sex?"ым":"ной") + " и независим" + (Sex?"ым":"ой") + ". Попытайся найти такие места, где никто до тебя не бывал.";
			next;
			mes "[Клайтос Вердо]";
			mes "И не забывай записывать всё, что тебе удастся познать.";
			mes "Ты долж" + (Sex?"ен":"на") + " делиться своими знаниями с другими, делая качественные записи.";
		}
		else if (BaseJob == Job_Novice) {
			mes "Что ты здесь делаешь, " + (Sex?"мальчик":"девочка") + "?";
			mes "Это Академия Магии, а не детский сад.";
			next;
			mes "[Клайтос Вердо]";
			mes "Иди поиграй с порингами.";
			mes "Давай, топ-топ!!";
		}
		else if (Class == Job_Wizard) {
			mes "Однако... Посмотрите-ка, кто приполз. Магикоман.";
			mes "Да-да, значит, наверное, пристрастие к магии - это вовсе не так уж плохо.";
			next;
			mes "[Клайтос Вердо]";
			mes "Но, я надеюсь, вы не забываете, что никто не может жить один.";
			mes "Даже если вы достаточно сильны для одиночной жизни, вы должны сотрудничать с другими людьми, помогать им. Вот ради чего должны жить Волшебники.";
		}
		else {
			mes "Хмм... Я понимаю, вы очень хотите поступить в нашу престижную академию, но, выбрав жизнь иного класса,";
			mes "вы потеряли такую возможность. Не думаю, что у вас есть шанс стать Мудрецом.";
			next;
			mes "[Клайтос Вердо]";
			mes "Так что не стоит бродить здесь и сокрушаться, что вы - не Мудрец. Возможно, вам лучше пойти поохотиться, продолжить развиваться в своей настоящей профессии.";
		}
		close;
	}
	if (SAGE_Q == 0) {
		mes "Что, хотите стать Мудрецом, " + (Sex?"молодой человек":"леди") + "?";
		mes "Я вижу это по вашим глазам, жаждущим мудрости.";
		next;
		mes "[Клайтос Вердо]";
		mes "Разумеется, если вы хотите стать Мудрецом, вам следует сперва поступить в Академию.";
		mes "Подавайте заявку и приходите ко мне.";
		close;
	}
	else if (SAGE_Q == 1 || SAGE_Q == 2 || SAGE_Q == 3) {
		mes "Хах! Вы даже не закончили процесс регистрации, " + (Sex?"молодой человек":"леди") + "!?";
		mes "Ясно... что, Матиас ляпнул что-нибудь?";
		next;
		mes "[Клайтос Вердо]";
		mes "Вы уж постарайтесь это пережить, " + (Sex?"молодой человек":"леди") + ". Попробуйте превратить это в ценый опыт.";
		mes "Возвращайтесь ко мне, когда зарегистрируетесь.";
		close;
	}
	else if (SAGE_Q == 4) {
		mes "Добро пожаловать в Швайхербилскую Академию Магии.";
		mes "Вы уже согласились на этот тест, не так ли, " + (Sex?"молодой человек":"леди") + "?";
		next;
		mes "[Клайтос Вердо]";
		mes "Так, значит, ваше имя - " + strcharinfo(0) + "...";
		mes "Отлично. Начинаем!";
		next;
		mes "[Клайтос Вердо]";
		mes "Тест, который я собираюсь вам дать, проверит ваши знания по всем академическим предметам.";
		mes "Он состоит из 20 вопросов стоимостью 5 баллов каждый. Если вы наберёте 80 или больше баллов, тест будет считаться пройденным успешно.";
		next;
		mes "[Клайтос Вердо]";
		mes "Ну что, ждать ни к чему. Давайте начнём.";
		mes "И да, вам не стоит медлить с ответами, иначе тест начнётся с начала.";
L_AskQuestions:
		next;
		switch(rand(1,3)) {
		case 1:
			mes "1. Выберите предмет, который не продаёт продавец подарков в Пронтере.";
			next;
			if (select("Фарфоровый сервиз:Красная рамка:Букет:Стеклянная бусина") == 3)
				set .@sage_t,.@sage_t+5;
			mes "2. Выберите город, где нельзя купить у NPC 'Stiletto'.";
			next;
			if (select("Пронтера:Моррок:Геффен:Люти") == 1)
				set .@sage_t,.@sage_t+5;
			mes "3. Выберите ближайший город к Черепашьему острову.";
			next;
			if (select("Альдебаран:Альберта:Комодо:Излюд") == 2)
				set .@sage_t,.@sage_t+5;
			mes "4. Выберите монстра, который имеет отличный от остальных тип.";
			next;
			if (select("Raggler:Pest:Frilldora:Aster") == 4)
				set .@sage_t,.@sage_t+5;
			mes "5. Выберите мостра, который имеет отличный от остальных элемент.";
			next;
			if (select("Mantis:Metaller:Rocker:Horn") == 2)
				set .@sage_t,.@sage_t+5;
			mes "6. Выберите монстра, который имеет отличный от остальных размер.";
			next;
			if (select("Raydric:Raydric Archer:Wanderer:Dark Frame") == 1)
				set .@sage_t,.@sage_t+5;
			mes "7. Выберите монстра, при убийстве которого нельзя получить 'Alcohol'.";
			next;
			if (select("Horong:Plankton:Poison Spore:Toad") == 3)
				set .@sage_t,.@sage_t+5;
			mes "8. Выберите NPC, который не имеет отношения к процессу получения профессии Рыцаря [Knight].";
			next;
			if (select("Сэр Сиракуза:Томас Сервантес:Сэр Уиндзор:Леди Эми") == 2)
				set .@sage_t,.@sage_t+5;
			mes "9. Выберите NPC, не являющегося жителем Пронтеры.";
			next;
			if (select("Тоно:Пина:ЙюПи:Хольгрехенн") == 2)
				set .@sage_t,.@sage_t+5;
			mes "10. Выберите правильное имя сотрудницы Кафры, носящей очки.";
			next;
			if (select("Павианна:Рокси:Лейла:Кудряшка Сью") == 3)
				set .@sage_t,.@sage_t+5;
			mes "11. Сколько SP потребляет умение Thunderstorm на 7 уровне?";
			next;
			if (select("49:59:69:74") == 2)
				set .@sage_t,.@sage_t+5;
			mes "12. Выберите правильное соотношение снижения урона и потребления SP для умения Energy Coat, если у владельца осталось 50% SP.";
			next;
			if (select("Урон -24% SP 1.5%:Урон -24% SP 2%:Урон -18% SP 1.5%:Урон -18% SP 2%") == 4)
				set .@sage_t,.@sage_t+5;
			mes "13. Выберите элемент, не относящийся к болтообразным умениям Мага.";
			next;
			if (select("Вода:Земля:Огонь:Ветер") == 2)
				set .@sage_t,.@sage_t+5;
			mes "14. Выберите правильное соотношение шанса срабатывания и силы атаки для воровского умения Double Attack 7 уровня.";
			next;
			if (select("35% / 120%:35% / 140%:40% / 120%:40% / 140%") == 2)
				set .@sage_t,.@sage_t+5;
			mes "15. Выберите умение, не имеющее отношения к изучению умения Священника Magnus Exorcismus.";
			next;
			if (select("Divine Protection:Heal:Ruwach:Aqua Benedicta") == 1)
				set .@sage_t,.@sage_t+5;
			mes "16. Выберите корректное описание защиты и способности предмета 'Bunny Band'.";
			next;
			if (select("1 / LUK +2:1 / LUK +5:2 / LUK +2:2 / LUK +5") == 3)
				set .@sage_t,.@sage_t+5;
			mes "17. Выберите класс, который не может носить 'Padded Armor'.";
			next;
			if (select("Мечник:Торговец:Вор:Лучник") == 4)
				set .@sage_t,.@sage_t+5;
			mes "18. Выберите предмет, который снимает все негативные статусы и одновременно восстанавливает до максимума HP и SP.";
			next;
			if (select("Royal Jelly:Yggdrasil Seed:Yggdrasilberry:Mastella Fruit") == 3)
				set .@sage_t,.@sage_t+5;
			mes "19. Кто сейчас правит королевством Рун-Мидгарт?";
			next;
			if (select("Тристан III:Тристрам III:Тристар III:Траст III") == 2)
				set .@sage_t,.@sage_t+5;
			mes "20. Выберите бога Крестоносцев.";
			next;
			if (select("Один:Локи:Тор:Венадин") == 1)
				set .@sage_t,.@sage_t+5;
			break;
		case 2:
			mes "1. Выберите камень, который не продают ювелиры Моррока.";
			next;
			if (select("Топаз:Гранат:Бриллиант:Сапфир") == 2)
				set .@sage_t,.@sage_t+5;
			mes "2. Выберите город, в котором нельзя купить 'Monster's Feed' у NPC.";
			next;
			if (select("Пронтера:Моррок:Альдебаран:Альберта") == 3)
				set .@sage_t,.@sage_t+5;
			mes "3. Выберите ближайший город к Туманному лабиринту, Maze.";
			next;
			if (select("Пронтера:Моррок:Геффен:Пайон") == 1)
				set .@sage_t,.@sage_t+5;
			mes "4. Выберите монстра, имеющего отличный от других тип.";
			next;
			if (select("Muka:Drops:Plankton:Penomena") == 4)
				set .@sage_t,.@sage_t+5;
			mes "5. Выберите монстра, который имеет отличный от других элемент.";
			next;
			if (select("Dokebi:Isis:Giearth:Deviruchi") == 3)
				set .@sage_t,.@sage_t+5;
			mes "6. Выберите монстра, который имеет отличный от других размер.";
			next;
			if (select("Thiefbug (агрессивный):Horn:Metaller:Argos") == 4)
				set .@sage_t,.@sage_t+5;
			mes "7. Выберите монстра, при убийстве которого нельзя получить 'Yggdrasil Leaf'.";
			next;
			if (select("Marduk:Baphomet Jr.:Angeling:Wanderer") == 1)
				set .@sage_t,.@sage_t+5;
			mes "8. Выберите NPC, который не участвует в процессе получения профессии Священника [Priest].";
			next;
			if (select("Пол:Сэр Уиндзор:Питер С. Альберто:Сесилия") == 2)
				set .@sage_t,.@sage_t+5;
			mes "9. Выберите NPC, не являющегося жителем Моррока.";
			next;
			if (select("Сивия:Акира:Антонио:Дмитрий") == 3)
				set .@sage_t,.@sage_t+5;
			mes "10. Выберите сотрудницу Кафры с великолепными синими волосами.";
			next;
			if (select("Павианна:Рокси:Лейла:Кудряшка Сью") == 1)
				set .@sage_t,.@sage_t+5;
			mes "11. Выберите умение, не требующееся для изучения умения Мага Fire Wall.";
			next;
			if (select("Fire Bolt 4 ур.:Napalm Beat 4 ур.:Fire Ball 5 ур.:Sight 1 ур.") == 2)
				set .@sage_t,.@sage_t+5;
			mes "12. Как много SP восстанавливается при изученном умении восстановления SP 6 уровня (без влияния INT)?";
			next;
			if (select("14:16:18:21") == 3)
				set .@sage_t,.@sage_t+5;
			mes "13. Каков профессиональный бонус к INT у Мага на 33 профессиональном уровне?";
			next;
			if (select("7:6:5:4") == 4)
				set .@sage_t,.@sage_t+5;
			mes "14. Выберите корректное потребление SP и длительность для умения Лучника Improve Concentration 5 уровня.";
			next;
			if (select("45 / 80 сек.:50 / 80 сек.:45 / 90 сек.:50 / 90 сек.") == 1)
				set .@sage_t,.@sage_t+5;
			mes "15. Выберите умение, не имеющее отношения к изучению умения Кузнеца Maximize Power.";
			next;
			if (select("Hilt Binding:Skin Tempering:Hammer Fall:Weapon Perfection") == 2)
				set .@sage_t,.@sage_t+5;
			mes "16. Каковы корректный показатель защиты и свойство предмета 'Cute Ribbon'?";
			next;
			if (select("0 / SP +20:0 / SP +30:1 / SP +20:1 / SP +30") == 3)
				set .@sage_t,.@sage_t+5;
			mes "17. Выберите класс, не способный носить 'Saint Robe'.";
			next;
			if (select("Мечник:Торговец:Вор:Аколит") == 3)
				set .@sage_t,.@sage_t+5;
			mes "18. Выберите статус, который не снимается Зелёным зельем.";
			next;
			if (select("Silence:Chaos:Blind:Curse") == 4)
				set .@sage_t,.@sage_t+5;
			mes "19. Выберите корректное название древнего исчезнувшего государства, существовавшего на месте современного Геффена.";
			next;
			if (select("Geffayon:Geffenia:Gefenn:Jaffen") == 2)
				set .@sage_t,.@sage_t+5;
			mes "20. Выберите корректное название дерева, ставшего корнем этого Мира.";
			next;
			if (select("Иггдрасиль:Игдрассилль:Мастела:Мёртвая ветка") == 1)
				set .@sage_t,.@sage_t+5;
			break;
		case 3:
			mes "1. Выберите предмет, который не продаётся у торговца волшебными товарами в Геффене.";
			next;
			if (select("'Mantle':'Wand':'Circlet':'Silver Robe'") == 1)
				set .@sage_t,.@sage_t+5;
			mes "2. Выберите город, в котором покупатель не сможет купить 'Blade' у NPC.";
			next;
			if (select("Пронтера:Излюд:Альдебаран:Пайон") == 3)
				set .@sage_t,.@sage_t+5;
			mes "3. Выберите ближайший город к Гластхейму.";
			next;
			if (select("Пронтера:Геффен:Моррок:Пайон") == 2)
				set .@sage_t,.@sage_t+5;
			mes "4. Выберите монстра, имеющего отличный от остальных тип.";
			next;
			if (select("Aster:Marc:Marse:Marin") == 4)
				set .@sage_t,.@sage_t+5;
			mes "5. Выберите монстра, имеющего отличный от остальных элемент.";
			next;
			if (select("Baby Desert Wolf:Smokie:Picky:Choco") == 2)
				set .@sage_t,.@sage_t+5;
			mes "6. Выберите монстра, имеющего отличный от остальных размер.";
			next;
			if (select("Drake:Wraith:Evil Druid:Khalitzburg") == 1)
				set .@sage_t,.@sage_t+5;
			mes "7. Выберте монстра, при убийстве которого нельзя получить 'Phracon'.";
			next;
			if (select("Pupa:Peco Peco Egg:Savage Baby:Baby Desert Wolf") == 2)
				set .@sage_t,.@sage_t+5;
			mes "8. Выберите NPC, который не участвует в процессе получения профессии Кузнеца [Blacksmith].";
			next;
			if (select("Олтайриджен:Гешупеншт:Баркади:Байсулист") == 3)
				set .@sage_t,.@sage_t+5;
			mes "9. Выберите NPC, не являющегося жителем Альдебарана.";
			next;
			if (select("RS125:БОГ-ПОИНГ:Стромм:Чемир") == 2)
				set .@sage_t,.@sage_t+5;
			mes "10. Выберите самую молодую из сотрудниц Кафры.";
			next;
			if (select("Павианна:Рокси:Лейла:Кудряшка Сью") == 4)
				set .@sage_t,.@sage_t+5;
			mes "11. Выберите корректное соотношение потребления SP и числа атак для Safety Wall 6 ур.";
			next;
			if (select("SP 40, 6 атак:SP 35, 6 атак:SP 40, 7 атак:SP 35, 7 атак") == 3)
				set .@sage_t,.@sage_t+5;
			mes "12. Выберите корректную мощность умения Napalm Beat 6 ур.";
			next;
			if (select("MATK * 1.2:MATK * 1.3:MATK * 1.4:MATK * 1.5") == 2)
				set .@sage_t,.@sage_t+5;
			mes "13. Выберите катализатор для Смеси №4 в тесте на получение профессии Мага.";
			next;
			if (select("Blue Gemstone:Red Gemstone:Yellow Gemstone:1 carat Diamond") == 4)
				set .@sage_t,.@sage_t+5;
			mes "14. Выберите корректное соотношение силы атаки и потребления SP для умения Мечника Bash 6 ур.";
			next;
			if (select("250% / 8:280% / 8:280% / 15:310% / 15") == 3)
				set .@sage_t,.@sage_t+5;
			mes "15. Выберите умение, не имеющее отношения к изучению умения Охотника Claymore Trap.";
			next;
			if (select("Remove Trap:Land Mine:Ankle Snare:Flasher") == 1)
				set .@sage_t,.@sage_t+5;
			mes "16. Выберите корректное соотношение показателя защиты и свойства предмета 'Wedding Veil'.";
			next;
			if (select("0 / MDEF +3:0 / MDEF +5:1 / MDEF +3:1 / MDEF +5") == 2)
				set .@sage_t,.@sage_t+5;
			mes "17. Выберите класс, который не может носить 'Coat'.";
			next;
			if (select("Мечник:Торговец:Вор:Новичок") == 4)
				set .@sage_t,.@sage_t+5;
			mes "18. Выберите предмет, не входящий в состав синего красителя.";
			next;
			if (select("'Alcohol':'Detrimindexta':'Karvodailnirol':'Blue Herb'") == 3)
				set .@sage_t,.@sage_t+5;
			mes "19. Когда Мир был создан богом Одином, что он использовал в качестве материала?";
			next;
			if (select("Сердце Имира:Ноготь Имира:Зуб Имира:Памятник Имиру") == 1)
				set .@sage_t,.@sage_t+5;
			mes "20. Выберите металл, который, по слухам, способен изменить судьбу человека и принести ему удачу и славу.";
			next;
			if (select("Империумное золото:Империум:Император:Фракон") == 2)
				set .@sage_t,.@sage_t+5;
		}
		mes "[Клайтос Вердо]";
		if (SAGE_Q == 4) {
			mes "Итак, " + (Sex?"молодой человек":"леди") + ", вы ответили на все 20 вопросов.";
			mes "Теперь я проверю ваши ответы и подсчитаю баллы.";
		}
		else {
			mes "Ну вот вы и ответили на все вопросы.";
			mes "Теперь я проверю ваши баллы.";
		}
		next;
		mes "[Клайтос Вердо]";
		mes "Так...";
		mes "Хм... хм.......";
		next;
		mes "[Клайтос Вердо]";
		mes "Вы заслужили " + .@sage_t + " очков.";
		if (.@sage_t == 100) {
			if (SAGE_Q == 4)
				mes "Отлично! Вы полностью квалифицированы, чтобы стать Мудрецом, " + (Sex?"молодой человек":"леди") + "!";
			else
				mes "Отлично! Вы, должно быть, усердно занимались!";
			set SAGE_Q,6;
			changequest 2041,2046;
			next;
			mes "[Клайтос Вердо]";
			mes "Вы успешно сдали письменный экзамен.";
			mes "Отправляйтесь к профессору Гермесу для практического тестирования.";
		}
		else if (.@sage_t >= 80) {
			set SAGE_Q,6;
			changequest 2041,2046;
			mes "Да, неплохо. Вы как минимум способны осознать тот факт, что собираетесь учиться.";
			next;
			mes "[Клайтос Вердо]";
			mes "Вы сдали письменный экзамен, " + (Sex?"молодой человек":"леди") + ".";
			mes "Теперь отправляйтесь к профессору Гермесу для практического тестирования.";
		}
		else {
			if (SAGE_Q == 4) {
				set SAGE_Q,5;
				mes "Ох... какой позор: вы не сдали.";
				next;
				mes "[Клайтос Вердо]";
				mes "Но я дам вам ещё один шанс пройти тестирование.";
				mes "Постарайтесь подготовиться получше.";
			}
			else {
				mes "Ох... какой позор: вы не сдали.";
				next;
				mes "[Клайтос Вердо]";
				mes "Но я дам вам ещё один шанс.";
				mes "Постарайтесь подготовиться получше.";
			}
		}
		close;
	}
	else if (SAGE_Q == 5) {
		mes "Проходите, " + (Sex?"молодой человек":"леди") + ".";
		mes "Подготовились как следует?";
		next;
		mes "[Клайтос Вердо]";
		mes "Условия будут те же самые, что и в первый раз. Я дам вам 20 вопросов.";
		mes "Каждый правильный ответ будет стоить 5 баллов. Успешно сдать тест означает набрать 80 или больше баллов.";
		next;
		set sage_m2,rand(1,3);
		mes "[Клайтос Вердо]";
		mes "Не будем терять времени.";
		mes "Отвечайте без промедления, " + (Sex?"молодой человек":"леди") + ", иначе опять не сдадите.";
		set SAGE_Q,5;
		goto L_AskQuestions;
		end;
	}
	else if (SAGE_Q == 6) {
		mes "Что вам ещё нужно, " + (Sex?"молодой человек":"леди") + "?! Хотите написать тест ещё раз?";
		next;
		mes "[Клайтос Вердо]";
		mes "Отправляйетсь к профессору Гермесу и займитесь практической частью.";
		mes "Идите же!";
		close;
	}
	else if (SAGE_Q == 15) {
		mes "Хе-хе, похоже, вы закончили свою диссертацию, " + (Sex?"молодой человек":"леди") + ".";
		mes "Но я не отвечаю за эту часть.";
		next;
		mes "[Клайтос Вердо]";
		mes "Покажите свою работу декану Кайрону.";
		mes "Он решит, достойны ли вы степени.";
		close;
	}
	else {
		mes "Сейчас я просто завален этими тестами.";
		mes "Приходите позже, когда у меня будет свободное время для разговора.";
		close;
	}
}

//Practical Examination Professer
yuno_in03,169,180,3	script	Practical Examination P	755,{
	mes "[Гермес Трис]";
	if (BaseJob != Job_Mage) {
		if (BaseJob == Job_Sage) {
			mes "Добро пожаловать. Как жизнь?";
			mes "Похоже, времена у тебя не самые праздничные... На тебе прямо написано.";
			next;
			mes "[Гермес Трис]";
			mes "Я знаю, какова на вкус жизнь исследователя, но это поможет тебе постичь больше.";
			mes "Книжники никогда не смогут переплюнуть практиков.";
			next;
			mes "[Гермес Трис]";
			mes "Но забираться вглубь подземелья в одиночку - опасная затея. ";
			mes "Лучше найти надёжных компаньонов.";
		}
		else if (BaseJob == Job_Novice) {
			mes "Хе-хех, какой милый маленький новичок!";
			next;
			mes "[Гермес Трис]";
			mes "На континенте Рун-Мидгарта есть множество неизвестных мест и объектов, ещё не изученных до конца.";
			mes "Монстры, загадочные объекты и герои мифов...";
			next;
			mes "[Гермес Трис]";
			mes "Не хочешь ли ты стать Мудрецом, когда вырастешь?";
			mes "Уверен, тебе понравится изучать Мир.";
			next;
			mes "[Гермес Трис]";
			mes "Если вдруг ты всё-таки решишься, мы с тобой встретимся вновь.";
			mes "Береги себя, малыш" + (Sex?"":"ка") + ".";
		}
		else {
			mes "Добро пожаловать в Швайхербилскую Академию Магии.";
			next;
			mes "[Гермес Трис]";
			mes "Мы, Мудрецы, больше похожи на учёных, чем Маги.";
			mes "В команде мы очень полезны и сильны.";
			next;
			mes "[Гермес Трис]";
			mes "Попробуй в следующий раз включить Мудреца в команду.";
			mes "Мудрость, которую он принесёт, будет более чем полезна для твоих людей...";
		}
		close;
	}
	if (SAGE_Q >= 0 && SAGE_Q <= 3) {
		mes "Я профессор Гермес, ответственный за практическую часть вступительных испытаний.";
		mes "Вы - кандидат в Мудрецы, не так ли?";
		next;
		mes "[Гермес Трис]";
		mes "Сначала подайте заявку и сдайте письменный тест.";
		close;
	}
	else if (SAGE_Q == 4 || SAGE_Q == 5) {
		mes "Я профессор Гермес, ответственный за практическую часть вступительных испытаний.";
		mes "Вы - кандидат в Мудрецы, не так ли?";
		next;
		mes "[Гермес Трис]";
		mes "Сначала обратитесь к профессору Клайтосу и сдайте письменный тест.";
		mes "После этого возвращайтесь ко мне.";
		close;
	}
	else if (SAGE_Q == 6) {
		mes "Добро пожаловать, вы только что сдали письменное тестирование, не так ли?";
		mes "Что ж, пора перейти к практике.";
		next;
		mes "[Гермес Трис]";
		mes "Задание не будет сложным или каким-то особенным.";
		mes "Всё, что от вас требуется - убить всех монстров за данное время.";
		next;
		mes "[Гермес Трис]";
		mes "Лучше один раз поучаствовать в этом тесте, чем сто раз услышать о нём.";
		mes "Как считаете? Готовы начать тест?";
		next;
		if (select("Да, готов" + (Sex?"":"а") + ".:Простите, можно ещё секундочку?") == 1) {
			set SAGE_Q,7;
			mes "[Гермес Трис]";
			mes "Отлично, начинаем.";
			mes "Сделайте всё возможное и возвращайтесь " + (Sex?"живым и здоровым":"живой и здоровой") + "!";
			close2;
			warp "job_sage",50,154;
			end;
		}
		set SAGE_Q,7;
		mes "[Гермес Трис]";
		mes "Конечно, вам не нужно спешить... Заканчивайте свои дела и возвращайтесь.";
		close;
	}
	else if (SAGE_Q == 7) {
		mes "Добро пожаловать ещё раз! Ну что, подготовились на этот раз, " + (Sex?"молодой человек":"леди") + "?";
		mes "Это не будет чересчур трудно, но вы уж постарайтесь изо всех сил, хорошо?";
		next;
		mes "[Гермес Трис]";
		mes "Итак, вы готовы?";
		next;
		if (select("Да, готов" + (Sex?"":"а") + ".:Простите, можно ещё минуточку!") == 1) {
			mes "[Гермес Трис]";
			mes "Отлично, начинаем.";
			mes "Сделайте всё возможное и возвращайтесь " + (Sex?"живым и здоровым":"живой и здоровой") + "!";
			close2;
			warp "job_sage",50,154;
			end;
		}
		mes "[Гермес Трис]";
		mes "Конечно, вам не нужно спешить... Заканчивайте свои дела и возвращайтесь.";
		close;
	}
	else if (SAGE_Q == 8) {
		mes "Отличная работа~ Вы сдали практическую часть...";
		mes "Я принимаю вас в студенты Академии.";
		next;
		mes "[Гермес Трис]";
		mes "Теперь я должен решить, какой предмет вы будете изучать...";
		mes "Так... сейчас я проверю ваш результат письменного теста и время, потраченное вами в практической части.";
		next;
		mes "[Гермес Трис]";
		mes "Хм, хмм... Ясно.";
		mes "Что ж...";
		next;
		switch(rand(1,3)) {
		case 1:
			set SAGE_Q,9;
			changequest 2046,2047;
			mes "[Гермес Трис]";
			mes "Вы будете изучать Иггдрасиль.";
			mes "Иггдрасиль - это дерево, которое, по слухам, является источником жизни в этом Мире.";
			next;
			mes "[Гермес Трис]";
			mes "Это хороший предмет, он позволит вам осознать изменения, произошедшие в Мире, и направление его развития.";
			mes "Вашим научным руководителем будет профессор Сафин. Он в лектории.";
			next;
			mes "[Гермес Трис]";
			mes "Желаю удачи.";
			close;
		case 2:
			set SAGE_Q,11;
			changequest 2046,2048;
			mes "[Гермес Трис]";
			mes "Вы будете изучать монстров.";
			mes "Цель вашей работы - познать и понять как можно больше обо всех созданиях континента.";
			next;
			mes "[Гермес Трис]";
			mes "Это хороший предмет, он очень пригодится вам в жизни.";
			mes "Вашим научным руководителем будет профессор Люциус. Он работает в Монстрологическом музее.";
			next;
			mes "[Гермес Трис]";
			mes "Желаю удачи.";
			close;
		case 3:
			set SAGE_Q,13;
			changequest 2046,2049;
			mes "[Гермес Трис]";
			mes "Вы будете изучать элементальную теорию магии.";
			mes "Цель вашего изучения - прийти к лучшему пониманию основ магии, которые мы используем в повседневной жизни.";
			next;
			mes "[Гермес Трис]";
			mes "Это хороший предмет, он позволит вам глубже понять истину, заложенную в магии.";
			mes "Вашим научным руководителем будет профессор Эбиси... Он работает в Соматологической лаборатории.";
			next;
			mes "[Гермес Трис]";
			mes "Желаю удачи.";
			close;
		}
	}
	else if (SAGE_Q == 9) {
		mes "Хм? Я непонятно обьяснил?";
		mes "Я направил вас изучать Иггдрасиль.";
		next;
		mes "[Гермес Трис]";
		mes "Идите к профессору Сафину, он в лектории.";
		close;
	}
	else if (SAGE_Q == 11) {
		mes "Хм? Я непонятно обьяснил?";
		mes "Я направил вас изучать монстров.";
		next;
		mes "[Гермес Трис]";
		mes "Идите к профессору Люциусу, он в Монстрологическом музее.";
		close;
	}
	else if (SAGE_Q == 13) {
		mes "Хм? Я непонятно обьяснил?";
		mes "Я направил вас изучать элементальную теорию магии.";
		next;
		mes "[Гермес Трис]";
		mes "Идите к профессору Эбиси, он в Соматологической лаборатории.";
		close;
	}
	else if (SAGE_Q == 15) {
		mes "Что ты тут делаешь? Я думал, ты уже у декана Кейрона.";
		mes "Конечно, вреда не будет, если ты дашь мне взглянуть на свою диссертацию...";
		next;
		mes "[Гермес Трис]";
		mes "Ладно, давай к декану.";
		close;
	}
	else {
		mes "Ох, прошу прощения, но в данный момент я сильно занят...";
		mes "Если у вас остались вопросы, попробуйте посетить профессора, которого я вам назначил.";
		close;
	}
}

yuno_in03,62,176,2	script	History Professor#sa	109,{
	mes "[Сафин Лейлесс]";
	if (BaseJob != Job_Mage) {
		if (BaseJob == Job_Sage) {
			mes "Я вас знаю? Вы один из моих студентов?";
			mes "Ох, в любом случае, не важно. Вы не смогли бы быть Мудрецом, не закончив эту Академию...";
			next;
			mes "[Сафин Лейлесс]";
			mes "В любом случае, вам следует изучать прошлое для того, чтобы лучше понимать натоящее и предсказывать... будущее.";
			mes "Эта сентенция содержит в себе всю истину Мира.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Я надеюсь, вы следуете по правильному пути...";
			mes "Однажды вы оглянетесь на этот момент и осознаете, что он изменил вашу жизнь.";
		}
		else if (BaseJob == Job_Novice) {
			mes "Новичок? Что здесь делает новичок?";
			next;
			mes "[Сафин Лейлесс]";
			mes "Тот, чья жизнь полна возможностей... ";
			mes "Как же ты захочешь повести свою жизнь?";
			next;
			mes "[Сафин Лейлесс]";
			mes "Кем бы ты не решил" + (Sex?"":"а") + " стать, от этого выбора зависит всё.";
			mes "Да благословит тебя Бог, чтобы ты смог" + (Sex?"":"ла") + " выбрать путь, тебе наиболее подходящий...";
		}
		else {
			mes "Добрый день. Я отвечаю за исторические исследования в этой Академии.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Как мы знаем, Мир является результатом событий, имеющих свой след в истории веков. Это исторические события, сформировавшие нынешний облик Мира, каким мы его знаем.";
			mes "Таким образом, зная прошлое, мы можем лучше понять настоящее и... будущее.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Будьте внимательны к своему прошлому...";
			mes "И вы увидите свой будущий путь.";
		}
		close;
	}
	if (SAGE_Q == 9) {
		if (SAGE_Q2 == 0) {
			mes "Добро пожаловать, " + strcharinfo(0) + ". Рад вас видеть.";
			mes "Меня зовут Сафин Лейлесс, я буду вашим научным руководителем.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Предмет вашего изучения - Иггдрасиль.";
			mes "Итак... Знаете ли вы, что такое Иггдрасиль?";
			next;
			switch(select("Да, я знаю это прекрасно.:Нет, не знаю.")) {
			case 1:
				mes "[Сафин Лейлесс]";
				mes "Тогда ответьте мне,";
				mes "что же такое Иггдрасиль?";
				next;
				switch(select("Это название лечебного предмета.:Это источник жизни в Мире.:Лошара, я соврал" + (Sex?"":"а") + ".")) {
				case 1:
					mes "[Сафин Лейлесс]";
					mes "Неверно. " + strcharinfo(0) + ", вы только что получили -10 баллов.";
					mes "Это лишь один из даров Иггдрасиля.";
					next;
					mes "[Сафин Лейлесс]";
					mes "Иггдрасиль - это древо, являющееся источником жизни в этом Мире.";
					break;
				case 2:
					mes "[Сафин Лейлесс]";
					mes "Верно. Иггдрасиль, также называющийся 'Мировым Древом', ";
					mes "это дерево, являющееся источником жизни этого Мира.";
					break;
				case 3:
					mes "[Сафин Лейлесс]";
					mes "Святые угодники... Если не знаете, так и говорите.";
					mes "Кстати, " + strcharinfo(0) + ", вы только что получили -10 баллов за ложь и неверный ответ.";
					break;
				}
				next;
				break;
			case 2:
				mes "[Сафин Лейлесс]";
				mes "Ах, я ожидал, что вы будете хоть немного осведомлены об Иггдрасиле...";
				mes "Иггдрасиль - это древо, являющееся источником жизни в этом Мире.";
				next;
				break;
			}
			mes "[Сафин Лейлесс]";
			mes "Прежде чем мы начнём наши занятия, для лучшего понимания Иггдрасиля";
			mes "вам понадобятся некоторые предметы.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Подойдёт всё, что имеет отношение к дереву Иггдрасиль.";
			mes "Семена или плоды были бы наилучшим вариантом. Я знаю, их трудно найти, но, пожалуйста, постарайтесь.";
			next;
			set SAGE_Q2,1;
			changequest 2047,2050;
			mes "[Сафин Лейлесс]";
			mes "Когда у нас будут эти предметы, мы продолжим занятия.";
			mes "Жду вас здесь.";
			close;
		}
		else {
			if (countitem(607) > 0) {
				mes "Ох, неужели вы принесли их с собой? Отлично!";
				mes "Вы принесли ягоду Иггдрасиля!";
				next;
				mes "[Сафин Лейлесс]";
				mes "Отлично, тогда начнём занятия.";
				mes "Слушайте внимательно, я не потерплю храпа на лекции!";
				next;
			}
			else if (countitem(608) > 0) {
				mes "Хмм, вы уже подготовились к занятиям? Ну-ка...";
				mes "Ох! Вы принесли семя Иггдрасиля.";
				next;
				mes "[Сафин Лейлесс]";
				mes "Очень хорошо. Начнём занятия...";
				mes "Слушайте внимательно, я не потерплю храпа на лекции!";
				next;
			}
			else if (countitem(610) > 0) {
				mes "Хмм, вы уже подготовились к занятиям? Ну-ка...";
				mes "Лист Иггдрасиля...";
				next;
				mes "[Сафин Лейлесс]";
				mes "Этот предмет можно купить в магазине в Альдебаране! Не очень-то вы постарались.";
				mes "Придётся мне дать вам -10 баллов, " + strcharinfo(0) + ".";
				next;
				mes "[Сафин Лейлесс]";
				mes "Ну что же, начнём занятия.";
				mes "Слушайте внимательно, и избавьте меня от ваших выходок.";
				next;
			}
			else {
				mes "Хм? Вы всё ещё не подготовились!";
				mes "Я попросил принести предметы, связанные с Иггдрасилем.";
				next;
				mes "[Сафин Лейлесс]";
				mes "Скажите, как будете готовы.";
				mes "Не беспокойтесь об опаздании: профессорам платят за ожидание...";
				close;
			}
			mes "[Сафин Лейлесс]";
			mes "Корень этого Мира, Иггдрасиль, - это гигантское древо.";
			mes "Корни его связывают весь континент Рун-Мидгарта, листья достигают небес.";
			next;
			mes "[Сафин Лейлесс]";
			mes "За пределами этого континента лежит океан, вокруг которого обернулся гигантский змей Ёрмунганд.";
			mes "Мир, как мы знаем, состоит из трёх мест: Асгард, Мидгард и Утгард.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Утгард - место обитания титанов.";
			next;
			mes "[Сафин Лейлесс]";
			mes "В Мидгарде живут человеческие существа.";
			next;
			mes "[Сафин Лейлесс]";
			mes "А Асгард - резиденция богов...";
			mes "Ясень, коренящийся в центре Рун-Мидгартского континента - это Иггдрасиль.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Этот континент был рождён от сердца Имира, и Иггдрасиль удерживает континент в целости, охватывая его тремя своими корнями.";
			mes "Эти три корня тянутся в три разных места.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Первый корень достигает Асгарда, где живут боги";
			mes "и который нами, людьми, ещё не познан.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Второй корень достигает Ётунхейма, где обитают гиганты.";
			mes "Это название фигурирует во многих легендах и мифах.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Третий корень дотягивается до Нифльхейма.";
			mes "Это место, по слухам, окутано густым чёрным туманом.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Такие предметы, как семя, ягода и лист Иггдрасиля,";
			mes "считаются частью самого дерева Иггдрасиль.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Ягода Иггдрасиля имеет притягательный запах.";
			mes "Считается, что она восстанавливает до максимума HP и SP единовременно.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Семя Иггдрасиля имеет цветочный аромат и вкус ореха.";
			mes "Считается, что оно восстанавливает половину HP и SP единовременно.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Лист Иггдрасиля наполнен жизненной силой.";
			mes "Считается, что с помощью него можно оживить умершего, вернуть его обратно в этот Мир.";
			next;
			mes "[Сафин Лейлесс]";
			mes "И последнее... Если вдруг вам когда-нибудь удастся обнаружить путь в Асгард,";
			mes "я надеюсь, вы сможете найти Иггдрасиль.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Несмотря на то, что история Иггдрасиля существует только в мифах и легендах, ";
			mes "мы, Мудрецы, обязаны узнать правду о нём.";
			next;
			mes "[Сафин Лейлесс]";
			mes "На этом я завершаю сегодняшнее занятие.";
			mes "Пожалуйста, запишите всё, что вы сегодня узнали, и постарайтесь запомнить как можно больше.";
			next;
			mes "[Сафин Лейлесс]";
			mes "На следующем занятии вы начнёте писать диссертацию об Иггдрасиле...";
			mes "Озаботьтесь, пожалуйста, следующими предметами.";
			next;
			mes "[Сафин Лейлесс]";
			mes "^3355FF1 "+getitemname(916)+"^000000, птичье перо, которым вы будете писать,";
			mes "^3355FF1 "+getitemname(919)+"^000000, звериная кожа, которую вы используете в качестве бумаги,";
			mes "^3355FF1 "+getitemname(1019)+"^000000, полено, из которого мы сделаем переплёт вашей книги,";
			mes "^3355FF1 "+getitemname(1024)+"^000000, чернила кальмара, которыми вы будете писать,";
			mes "^3355FF1 "+getitemname(713)+"^000000, пустая бутыль, которая будет служить вам чернильницей.";
			next;
			set SAGE_Q2,0;
			set SAGE_Q,10;
			changequest 2050,2051;
			mes "[Сафин Лейлесс]";
			mes "Я помогу вам с написанием диссертации, когда вы подготовите все эти материалы.";
			mes "Жду вас здесь.";
			close;
		}
	}
	else if (SAGE_Q == 10) {
		if (countitem(916) > 0 && countitem(919) > 0 && countitem(1019) > 0 && countitem(1024) > 0 && countitem(713) > 0) {
			delitem 916,1; //Feather_Of_Birds
			delitem 919,1; //Animal's_Skin
			delitem 1019,1; //Wooden_Block
			delitem 1024,1; //Chinese_Ink
			delitem 713,1; //Empty_Bottle
			mes "Теперь вам нужно написать диссертацию.";
			mes "Я помогу с написанием.";
			next;
			mes "..........";
			next;
			mes "....................";
			next;
			mes ".................................";
			next;
			mes ".....Вокруг континента находится океан,";
			mes "а океан обёрнут";
			switch(select("гигантским ясенем.:гигантским змеем Ёрмунгандом.:гигантской черепахой и слонами.:гигантским драконом.")) {
			case 1:
				set .@w_point,.@w_point+1;
				mes "гигантским ясенем.";
				break;
			case 2:
				mes "гигантским змеем Ёрмунгандом.";
				break;
			case 3:
				set .@w_point,.@w_point+1;
				mes "гигантской черепахой и слонами.";
				break;
			case 4:
				set .@w_point,.@w_point+1;
				mes "гигантским драконом.";
				break;
			}
			mes "Континет состоит из трёх мест, таких как:";
			switch(select("Горы Мьёльнир, где живут пауки,:Уранос, где живут титаны,:Утгард, где живут титаны,:Люти, зимняя земля,")) {
			case 1:
				set .@w_point,.@w_point+1;
				mes "Горы Мьёльнир, где живут пауки,";
				break;
			case 2:
				set .@w_point,.@w_point+1;
				mes "Уранос, где живут титаны,";
				break;
			case 3:
				mes "Утгард, где живут титаны,";
				break;
			case 4:
				set .@w_point,.@w_point+1;
				mes "Люти, зимняя земля,";
				break;
			}
			switch(select("Мидгард, где живут люди,:Рун-Мидгарт, где живут люди,:Тритония, где живут русалки,:Моррок, пустынный город,")) {
			case 1:
				mes "Мидгард, где живут люди,";
				break;
			case 2:
				set .@w_point,.@w_point+1;
				mes "Рун-Мидгарт, где живут люди,";
				break;
			case 3:
				set .@w_point,.@w_point+1;
				mes "Тритония, где живут русалки,";
				break;
			case 4:
				set .@w_point,.@w_point+1;
				mes "Моррок, пустынный город,";
				break;
			}
			switch(select("Абгвард, где живут боги.:Асгард, где живут боги.:Шварцвальд, где живут горожане.:Пронтера, столица Рун-Мидгарта.")) {
			case 1:
				set .@w_point,.@w_point+1;
				mes "Абгвард, где живут боги.";
				break;
			case 2:
				mes "Асгард, где живут боги.";
				break;
			case 3:
				set .@w_point,.@w_point+1;
				mes "Шварцвальд, где живут горожане.";
				break;
			case 4:
				set .@w_point,.@w_point+1;
				mes "Пронтера, столица Рун-Мидгарта.";
				break;
			}
			mes "Континент состоит из трёх частей, перечисленных выше.";
			next;
			if (.@w_point > 0) {
				mes "[Сафин Лейлесс]";
				mes "..." + strcharinfo(0) + ", у вас всё в порядке с головой?";
				mes "Ваша работа не дотягивает и до реферата!";
				next;
				mes "[Сафин Лейлесс]";
				mes "Не думаю, что вам стоит показывать ЭТО декану.";
				mes "Подучите материал ещё и попробуйте снова!";
				close;
			}
			mes ".....как мы уяснили из последнего занятия,";
			mes "Иггдрасиль - это...";
			switch(select("гигантский ясень.:баснословное дерево Мастела.:гигантская ива.:гигантская Мёртвая ветка.")) {
			case 1:
				mes "гигантский ясень.";
				break;
			case 2:
				set .@w_point,.@w_point+1;
				mes "баснословное дерево Мастела.";
				break;
			case 3:
				set .@w_point,.@w_point+1;
				mes "гигантская ива.";
				break;
			case 4:
				set .@w_point,.@w_point+1;
				mes "гигантская Мёртвая ветка.";
				break;
			}
			mes "Корень Иггдрасиля разделён на три части. Эти части достигают трёх разных мест...";
			switch(select("Шварцвальд, Ётунхейм, Нифльхейм.:Мидгард, Ётунхейм, Наффлехейм.:Асгард, Ётунхейм, Наффлехейм.:Асгард, Ётунхейм, Нифльхейм.")) {
			case 1:
				set .@w_point,.@w_point+1;
				mes "Шварцвальд, Ётунхейм, Нифльхейм.";
				break;
			case 2:
				set .@w_point,.@w_point+1;
				mes "Мидгард, Ётунхейм, Наффлехейм.";
				break;
			case 3:
				set .@w_point,.@w_point+1;
				mes "Асгард, Ётунхейм, Наффлехейм.";
				break;
			case 4:
				mes "Асгард, Ётунхейм, Нифльхейм.";
				break;
			}
			mes "Тот, кто имеет семя Иггдрасиля, может";
			switch(select("исцелиться от всех вредных состояний.:восстановить все свои HP и SP одновременно.:восстановить половину своих HP и SP.:исцелиться от немоты, проклятия и контузии.")) {
			case 1:
				set .@w_point,.@w_point+1;
				mes "может исцелиться от всех вредных состояний.";
				break;
			case 2:
				set .@w_point,.@w_point+1;
				mes "может восстановить все свои HP и SP одновременно.";
				break;
			case 3:
				mes "может восстановить половину своих HP и SP.";
				break;
			case 4:
				set .@w_point,.@w_point+1;
				mes "может исцелиться от немоты, проклятия и контузии.";
				break;
			}
			next;
			if (.@w_point > 0) {
				mes "[Сафин Лейлесс]";
				mes "..." + strcharinfo(0) + ", у вас всё в порядке с головой?";
				mes "Ваша работа не дотягивает и до реферата!";
				next;
				mes "[Сафин Лейлесс]";
				mes "Не думаю, что вам стоит показывать ЭТО декану.";
				mes "Подучите материал и попробуйте снова!";
				close;
			}
			mes "..........";
			next;
			mes "....................";
			next;
			mes ".................................";
			next;
			set SAGE_Q,15;
			changequest 2051,2052;
			mes "[Сафин Лейлесс]";
			mes "Ну что, закончили? Отлично.";
			mes "Берегите эту книгу, так как вы никогда не сможете повторить того, что сделано.";
			getitem 1550,1; //Book
			next;
			mes "[Сафин Лейлесс]";
			mes "Я признаю вас готов" + (Sex?"ым":"ой") + " ко встрече с деканом.";
			mes "Остальное решать ему.";
			close;
		}
		else {
			mes "Не уверен, что вы уже готовы к написанию диссертации.";
			mes "Боюсь, я уже говорил вам, что вам необходимо.";
			next;
			mes "[Сафин Лейлесс]";
			mes "^3355FF1 "+getitemname(916)+"^000000, птичье перо, которым вы будете писать,";
			mes "^3355FF1 "+getitemname(919)+"^000000, звериная кожа, которую вы используете в качестве бумаги,";
			mes "^3355FF1 "+getitemname(1019)+"^000000, полено, из которого мы сделаем переплёт вашей книги,";
			mes "^3355FF1 "+getitemname(1024)+"^000000, чернила кальмара, которыми вы будете писать,";
			mes "^3355FF1 "+getitemname(713)+"^000000, пустая бутыль, которая будет служить вам чернильницей.";
			next;
			mes "[Сафин Лейлесс]";
			mes "Я помогу вам с написанием диссертации, когда вы подготовите все эти материалы.";
			mes "Жду вас здесь.";
			close;
		}
	}
	else if (SAGE_Q == 15) {
		mes "М? Вы собирались идти к декану, не так ли?";
		mes "Если вы закончили свою диссертацию, вам лучше показать её декану.";
		next;
		mes "[Сафин Лейлесс]";
		mes "У вас есть только один шанс написать диссертацию, прежде чем вы станете Мудрецом.";
		mes "Так что, пожалуйста, поторопитесь.";
		close;
	}
	else {
		mes "Не уверен, связывает ли нас с вами какое-то дело, но, прошу вас, зайдите чуть позже.";
		mes "Мне нужно обработать некоторое количество статей...";
		close;
	}
}

yuno_in03,32,102,1	script	Biology Professor#sa	755,{
	mes "[Люциус Цельсус]";
	if (BaseJob != Job_Mage) {
		if (BaseJob == Job_Sage) {
			mes "Что привело вас ко мне, коллега?";
			mes "Если у вас есть какие-то вопросы для дискуссии, в следующий раз вам стоит согласовывать со мной время встречи как минимум за неделю.";
			next;
			mes "[Люциус Цельсус]";
			mes "Вы же знаете, какой я занятой человек...";
			mes "Уверен, вы меня понимаете.";
			next;
			mes "[Люциус Цельсус]";
			mes "А у вас, как я погляжу, образовалось свободное время. Что ж, рад за вас...";
			mes "Не хотите организовать новую экспедицию куда-нибудь?";
		}
		else if (BaseJob == Job_Novice) {
			mes "Что привело тебя сюда, " + (Sex?"мальчик":"девочка") + "?";
			next;
			mes "[Люциус Цельсус]";
			mes "Лучше тебе пойти поиграть в какое-нибудь другое место. ";
		}
		else {
			mes "Хмм? Что привело вас ко мне? Интересует ли вас наблюдение монстров?";
			next;
			mes "[Люциус Цельсус]";
			mes "Вы сввободны смотреть сколько хотите. Однако старайтесь не раздражать их by making any fuss.";
			mes "И не суйте пальцы сквозь ограждения, некоторые из этих ребят очень опасны.";
			next;
			mes "[Люциус Цельсус]";
			mes "Да, на будущее: если вам удастся поймать какого-нибудь редкого монстра, дайте мне знать.";
			mes "Я бы купил его, по любой цене.";
		}
		close;
	}
	if (SAGE_Q == 11) {
		if (SAGE_Q2 == 0) {
			mes "Добро пожаловать на мои занятия. Вы получили хорошую оценку на практическом тесте, не так ли?";
			mes "Меня зовут Люциус Цельсус, я эксперт биологии.";
			next;
			mes "[Люциус Цельсус]";
			mes "Хах... как это невежливо с вашей стороны, " + (Sex?"молодой человек":"леди") + "! Вам следовало бы представиться, как только я вас поприветствовал!";
			mes "Как ваше имя?";
			next;
			select(strcharinfo(0));
			mes "[Люциус Цельсус]";
			mes "Славное имя. Рад познакомиться.";
			mes "Вы уже ознакомлены с вашим предметом для изучения?";
			next;
			mes "[Люциус Цельсус]";
			mes "Как вам, должно быть, известно, тема вашего изучения - монстры.";
			mes "Как много вы сражались с монстрами?";
			next;
			if (select("Я уже и со счёта сбил" + (Sex?"ся":"ась") + "!.:Немного, полагаю...") == 1) {
				mes "[Люциус Цельсус]";
				mes "О, ни слова больше. Не будьте столь самоуверенны, " + (Sex?"молодой человек":"леди") + ".";
				mes "Даже если вы имеете большой опыт взаимодействия с монстрами, вам придётся постараться, чтобы усвоить мои уроки.";
			}
			mes "[Люциус Цельсус]";
			mes "Так я и думал: вы - книжник.";
			mes "Однако я уверен, что вам встретится большинство монстров, о которых пойдёт речь в моих лекциях.";
			next;
			set sage_m4,rand(1,3);
			mes "[Люциус Цельсус]";
			mes "Давайте начнём.";
			mes "Удостоверьтесь, что вы готовы к практическим занятиям.";
			next;
			if (sage_m4 == 1) {
				set SAGE_Q2,1;
				changequest 2048,2053;
				mes "[Люциус Цельсус]";
				mes "Принесите мне следующее.";
				mes "5 ^3355FF"+getitemname(962)+"^000000,";
				mes "5 ^3355FF"+getitemname(1052)+"^000000,";
				mes "5 ^3355FF"+getitemname(1023)+"^000000.";
			}
			else if (sage_m4 == 2) {
				set SAGE_Q2,2;
				changequest 2048,2054;
				mes "[Люциус Цельсус]";
				mes "Принесите мне следующее.";
				mes "5 ^3355FF"+getitemname(960)+"^000000,";
				mes "5 ^3355FF"+getitemname(966)+"^000000,";
				mes "5 ^3355FF"+getitemname(950)+"^000000.";
			}
			else {
				set SAGE_Q2,3;
				changequest 2048,2054;
				mes "[Люциус Цельсус]";
				mes "Принесите мне следующее.";
				mes "5 ^3355FF"+getitemname(1050)+"^000000,";
				mes "5 ^3355FF"+getitemname(960)+"^000000,";
				mes "5 ^3355FF"+getitemname(963)+"^000000.";
			}
			next;
			mes "[Люциус Цельсус]";
			mes "Мы начнём занятие, когда вы принесёте эти образцы.";
			mes "Удачи.";
			close;
		}
		else if (SAGE_Q2 >= 1 && SAGE_Q2 <=3) {
			switch(SAGE_Q2) {
			case 1: setarray .@items[0],962,1052,1023; break;
			//Nipper, Clam Flesh, Heart of Mermaid
			case 2: setarray .@items[0],960,966,950; break;
			//Tendon, Nipper, Sharp Scale
			case 3: setarray .@items[0],1050,960,963; break;
			}
			if (countitem(.@items[0]) > 4 && countitem(.@items[1]) > 4 && countitem(.@items[2]) > 4) {
				mes "Вы хорошо постарались, добыв все эти предметы.";
				mes "Хотя я не могу быть твёрдо уверен, что вы сделали это самостоятельно, а не купили их где-нибудь...";
				next;
				mes "[Люциус Цельсус]";
				mes "Монстры, с которых добываются эти предметы, имеют что-то общее.";
				mes "Что это?";
				next;
				switch(select("Они несут элемент воды.:Они рыбы.:Они агрессивны.:Э... они - монстры.")) {
				case 1:
					mes "[Люциус Цельсус]";
					mes "Да, они несут элемент воды и в то же самое время они - рыбы.";
					mes "Большинство монстров класса рыб живут в водной среде и имеют элемент воды.";
					break;
				case 2:
					mes "[Люциус Цельсус]";
					mes "Да, они несут элемент воды и в то же самое время они - рыбы.";
					mes "Большинство монстров класса рыб живут в водной среде и имеют элемент воды.";
					break;
				case 3:
					set sage_m4,4;
					mes "[Люциус Цельсус]";
					mes "...Phen нынче стал агрессивен?";
					mes "Или Marina и Plankton обьединялись в стаи для нападения на вас?";
					next;
					mes "[Люциус Цельсус]";
					mes "Все монстры, с которых добываются эти предметы, не являются агрессивными... Возьмите себя в руки.";
					mes "Они все - рыбы и имеют элемент воды.";
					break;
				case 4:
					set sage_m4,4;
					mes "[Люциус Цельсус]";
					mes "Что...! Ты вообще в курсе, для чего ты здесь!? Ты здесь, чтобы изучать разновидности монстров" + (Sex?", микроцефалоидальный болван":"") + "!";
					mes "Эх... они все рыбы и имеют элемент воды.";
					break;
				}
				next;
				mes "[Люциус Цельсус]";
				mes "Не все рыбы имеют элемент 'Вода', но большинство.";
				mes "Итак, какая же магия наиболее эффективна против монстров класса рыб?";
				next;
				switch(select("Lightening Bolt.:Fire Bolt.:Thunder Storm.:Frost Diver.")) {
				case 1:
					mes "[Люциус Цельсус]";
					mes "Верно, Lightening Bolt, имеющий элемент Ветра, лучше всего действует на монстров элемента Вода.";
					mes "Хотя вам стоит быть осторожн" + (Sex?"ым":"ой") + " с монстрами, чувствующими направленное на них заклинание.";
					break;
				case 2:
					set sage_m4,4;
					mes "[Люциус Цельсус]";
					mes "Что? Fire Bolt! Огонь не бьёт воду, тупица!";
					mes "Большинству рыб свойственен элемент Вода. Следовательно, они слабы перед элементом Ветер. Понятно?";
					break;
				case 3:
					mes "[Люциус Цельсус]";
					mes "Да, Thunder Storm неплохой вариант... это заклинание элемента Ветер.";
					mes "Однако вам стоит с умом выбирать целевое пространство.";
					break;
				case 4:
					set sage_m4,4;
					mes "[Люциус Цельсус]";
					mes "Я не знал, что бывают такие тупицы! Вопрос подразумевал подбор элемента, противодействующего Воде! Неужели не ясно?";
					mes "Логично, что магия Воды не даст эффекта против водяных монстров!";
					break;
				}
				next;
				mes "[Люциус Цельсус]";
				mes "Кстати, несмотря на то, что такие монстры, как Penomena и Aster относятся к классу рыб,";
				mes "они имеют иные элементы. С ними следует быть особенно внимательным.";
				next;
				mes "[Люциус Цельсус]";
				mes "Хорошо, теперь давайте исследуем монстров-насекомых.";
				mes "Так... Хм... Хмм...";
				next;
				switch(rand(1,4)) {
				case 1:
					set SAGE_Q2,4;
					if(checkquest(2053) != -1) {
						changequest 2053,2056;
					}
					else if(checkquest(2054) != -1) {
						changequest 2054,2056;
					}
					else {
						changequest 2055,2056;
					}
					mes "5 ^3355FF"+getitemname(1025)+"^000000,";
					mes "5 ^3355FF"+getitemname(935)+"^000000,";
					mes "5 ^3355FF"+getitemname(928)+"^000000.";
					break;
				case 2:
					set SAGE_Q2,5;
					if(checkquest(2053) != -1) {
						changequest 2053,2057;
					}
					else if(checkquest(2054) != -1) {
						changequest 2054,2057;
					}
					else {
						changequest 2055,2057;
					}
					mes "5 ^3355FF"+getitemname(947)+"^000000,";
					mes "5 ^3355FF"+getitemname(946)+"^000000,";
					mes "5 ^3355FF"+getitemname(1057)+"^000000.";
					break;
				case 3:
					set SAGE_Q2,6;
					if(checkquest(2053) != -1) {
						changequest 2053,2058;
					}
					else if(checkquest(2054) != -1) {
						changequest 2054,2058;
					}
					else {
						changequest 2055,2058;
					}
					mes "5 ^3355FF"+getitemname(1031)+"^000000,";
					mes "5 ^3355FF"+getitemname(955)+"^000000,";
					mes "5 ^3355FF"+getitemname(1013)+"^000000.";
					break;
				case 4:
					set SAGE_Q2,7;
					if(checkquest(2053) != -1) {
						changequest 2053,2059;
					}
					else if(checkquest(2054) != -1) {
						changequest 2054,2059;
					}
					else {
						changequest 2055,2059;
					}
					mes "5 ^3355FF"+getitemname(1025)+"^000000,";
					mes "5 ^3355FF"+getitemname(1031)+"^000000,";
					mes "5 ^3355FF"+getitemname(943)+"^000000.";
				}
				next;
				mes "[Люциус Цельсус]";
				mes "Следующее занятие начнётся, когда вы принесёте мне эти образцы.";
				mes "Удачи.";
				close;
			}
			mes "Вы что, уже успели забыть, что я сказал минуту назад?";
			mes "Какая незадача... Слушайте внимательнее.";
			next;
			mes "[Люциус Цельсус]";
			mes "5 ^3355FF"+getitemname(.@items[0])+"^000000,";
			mes "5 ^3355FF"+getitemname(.@items[1])+"^000000,";
			mes "5 ^3355FF"+getitemname(.@items[2])+"^000000,";
			close;
		}
		else if (SAGE_Q2 >= 4  && SAGE_Q2 <= 7) {
			switch(SAGE_Q2) {
			case 4: setarray .@items[0],1025,935,928; break;
			//Horn, Snail's Shell, Moth Dust
			case 5: setarray .@items[0],947,946,1057; break;
			//Mantis Scythe, Worm Peeling, Rainbow Shell
			case 6: setarray .@items[0],1031,955,1013; break;
			//Cobweb, Mantis Scythe, Solid Shell
			case 7: setarray .@items[0],1025,1031,943; break;
			}
			if (countitem(.@items[0]) > 4 && countitem(.@items[1]) > 4 && countitem(.@items[2]) > 4) {
				mes "Отлично. Удалось ли вам понаблюдать за насекомыми в процессе сбора образцов?";
				mes "О, полагаю, вы проделали хорошую работу.";
				next;
				mes "[Люциус Цельсус]";
				mes "Монстры-насекомые большей частью имеют различные элементы.";
				mes "Лучше подумать дважды, прежде чем начинать творить заклинание против них.";
				next;
				mes "[Люциус Цельсус]";
				mes "Заметим, что насекомые способны к обнаружению скрытых обьектов.";
				mes "Следовательно, скрывающие умения, например 'Hiding' и 'Cloaking', против насекомых бесполезны.";
				next;
				mes "[Люциус Цельсус]";
				mes "Некоторые насекомые образуют сообщества и живут вместе.";
				mes "В таком случае их контролирует глава сообщества...";
				next;
				mes "[Люциус Цельсус]";
				mes "Например, Maйя, королева муравьёв...";
				mes "Mistress, королева шершней,";
				mes "или Golden Thiefbug, король тараканов...";
				next;
				mes "[Люциус Цельсус]";
				mes "Таких монстров лучше не бить в одиночку, ";
				mes "разумнее будет собрать команду для охоты на них.";
				next;
				mes "[Люциус Цельсус]";
				mes "На этом мои занятия подошли к концу... Пора вам взяться за диссертацию.";
				mes "Принесите следующие материалы для диссертации.";
				next;
				mes "[Люциус Цельсус]";
				mes "^3355FF1 Feather of Birds^000000, птичье перо, которое вы используете в качестве ручки,";
				mes "^3355FF1 Animal Skin^000000, кожу, которую вы используете как бумагу,";
				mes "^3355FF1 Trunk^000000, полено, из которого вы сделаете переплёт,";
				mes "^3355FF1 Squid Ink^000000, чернила кальмара, которые вы используете в качестве чернил,";
				mes "^3355FF1 Empty Bottle^000000, пустую бутыль, которая послужит вам чернильницей.";
				next;
				set SAGE_Q2,0;
				set SAGE_Q,12;
				if(checkquest(2056) != -1) {
					changequest 2056,2051;
				}
				else if(checkquest(2057) != -1) {
					changequest 2057,2051;
				}
				else if(checkquest(2058) != -1) {
					changequest 2058,2051;
				}
				else {
					changequest 2059,2051;
				}
				mes "[Люциус Цельсус]";
				mes "Я помогу с написанием текста, когда принесёте это всё.";
				mes "Учиться осталось немного.";
				close;
			}
			mes "Что, уже успел" + (Sex?"":"а") + " позабыть, что я сказал только что?";
			mes "Какая незадача... Слушай внимательнее.";
			next;
			mes "[Люциус Цельсус]";
			mes "5 ^3355FF"+getitemname(.@items[0])+"^000000,";
			mes "5 ^3355FF"+getitemname(.@items[1])+"^000000,";
			mes "5 ^3355FF"+getitemname(.@items[2])+"^000000,";
			close;
		}
		mes "*Храп*";
		close;
	}
	else if (SAGE_Q == 12) {
		if (countitem(916) > 0 && countitem(919) > 0 && countitem(1019) > 0 && countitem(1024) > 0 && countitem(713) > 0) {
			delitem 916,1; //Feather_Of_Birds
			delitem 919,1; //Animal's_Skin
			delitem 1019,1; //Wooden_Block
			delitem 1024,1; //Chinese_Ink
			delitem 713,1; //Empty_Bottle
			mes "Хмф. Я смотрю, ты всё прин" + (Sex?"ёс":"есла") + "."; 
			mes "Что ж, я не ожидаю от твоей диссертации чего-то необычного и гениального...";
			next;
			mes "[Люциус Цельсус]";
			mes "Если тебе очень хочется писать с нуля, я не настаиваю, но...";
			mes "Я могу дать тебе работу одного, хм... гения. Просто скопируй её и подставь своё имя.";
			next;
			mes "[Люциус Цельсус]";
			mes "В чём дело? Да, я так работаю.";
			mes "Просто делай что я сказал.";
			next;
			mes "..........";
			next;
			mes "....................";
			next;
			mes ".................................";
			next;
			select(".....Монстры различаются по внешнему виду");
			mes ".....Монстры различаются по внешнему виду";
			select("...и имеют разные элементальные свойства.");
			mes "...и имеют разные элементальные свойства.";
			select("Необходимо точно знать элемент монстра...");
			mes "Необходимо точно знать элемент монстра...";
			select("...и что заклинания действуют на них по-разному.");
			mes "...и что заклинания действуют на них по-разному.";
			select("Особенно опасны монстры Света и Тьмы.");
			mes "Особенно опасны монстры Света и Тьмы.";
			select("С ними нужно быть особено осторожным.");
			mes "С ними нужно быть особено осторожным.";
			next;
			mes "..........";
			next;
			mes "....................";
			next;
			mes ".................................";
			next;
			set SAGE_Q,15;
			changequest 2051,2052;
			mes "[Люциус Цельсус]";
			mes "Закончил" + (Sex?"":"а") + "? Отлично.";
			mes "У тебя не будет больше возможности написать диссертацию, так что береги её.";
			getitem 1550,1; //Book
			next;
			mes "[Люциус Цельсус]";
			mes "Покажи этот шедевр декану.";
			mes "Он выпустит тебя из Академии. До встречи.";
			close;
		}
		else {
			mes "Ты уверен" + (Sex?"":"а") + ", что готов" + (Sex?"":"а") + "? Мне вот так не кажется.";
			mes "Слушай внимательнее.";
			next;
			mes "[Люциус Цельсус]";
			mes "^3355FF1 "+getitemname(916)+"^000000, птичье перо, которое используется в качестве ручки,";
			mes "^3355FF1 "+getitemname(919)+"^000000, кожу, которую используется, как бумагу,";
			mes "^3355FF1 "+getitemname(1019)+"^000000, полено, из которого ты сделаешь переплёт,";
			mes "^3355FF1 "+getitemname(1024)+"^000000, чернила кальмара, которые ты используешь в качестве чернил,";
			mes "^3355FF1 "+getitemname(713)+"^000000, пустую бутыль, которая послужит тебе чернильницей.";
			next;
			mes "[Люциус Цельсус]";
			mes "Ты неплохо справлял" + (Sex?"ся":"ась") + ", так что, думаю, здесь проблем тоже не возникнет.";
			mes "Давай, поспеши.";
			close;
		}
	}
	else if (SAGE_Q == 15) {
		mes "Что ты здесь делаешь, иди покажи диссертацию декану!";
		mes "Не теряй времени.";
		next;
		mes "[Люциус Цельсус]";
		mes "Похоже, у тебя многовато свободного времени. Отлично, я назначу тебе немного заданий.";
		mes "Ха-ха-ха, нет, говоришь? Ладно, проваливай.";
		close;
	}
	else {
		mes "Вах~! У меня сейчас мозг взорвётся! Почему именно я всем этим занимаюсь?!";
		mes "А ты кто так" + (Sex?"ой":"ая") + "?! Не отвлекай, я занят!!";
		next;
		mes "[Люциус Цельсус]";
		mes "Если тебе приспичило посмотреть на монстров, пожалуйста...";
		mes "Только не тереби меня своими вопросами.";
		close;
	}
}

yuno_in03,244,31,3	script	Physics Professor#sa	120,{
	mes "[Эбиси Джордж]";
	if (BaseJob != Job_Mage) {
		if (BaseJob == Job_Sage) {
			mes "Хе-хе, привет! Что привело тебя сюда вновь, радость моя?";
			mes "Ах, ясно... ты в восторге от того, что в конце-концов стал" + (Sex?"":"а") + " Сагом! Хе-хе~";
			next;
			mes "[Эбиси Джордж]";
			mes "Ох, да, хотя ты и получил" + (Sex?"":"а") + "  Сага, ты продолжаешь заниматься всё тем же, хе-хе... Мы все маги до мозга костей!";
			mes "Мы лучше, чем другие классы потому, что мы дружим со своей головой, правда?";
			next;
			mes "[Эбиси Джордж]";
			mes "Ну что, хочешь поговорить о чём-нибудь?";
			mes "Ох, дорогуша, не нервничай... Где твоя жажда приключений?";
		}
		else if (BaseJob == Job_Novice) {
			mes "Ну не милашка ли ты~";
			next;
			mes "[Эбиси Джордж]";
			mes "Что ты здесь делаешь, " + (Sex?"пряничек":"булочка") + "? Приш" + (Sex?"ёл":"ла") + " посмотреть, что здесь такое?";
			mes "Хочешь конфетку? Конфетку, моя прелесть? Хи-хи...";
			next;
			mes "[Эбиси Джордж]";
			mes "Ох, чёрт возьми... Прости пожалуйста, я думал, у меня оставались...";
			mes "Но у меня есть и другие угощения, улавливаешь, куда я клоню?";
		}
		else {
			mes "Эй, хе-хе, как дела, моряк?";
			next;
			mes "[Эбиси Джордж]";
			mes "Приш" + (Sex?"ёл":"ла") + " поглазеть по сторонам? Хм...?";
			mes "Что ж, если ты здесь не ради дела, то ты долж" + (Sex?"ен":"на") + " быть здесь...";
			next;
			mes "[Эбиси Джордж]";
			mes "...ради УДОВОЛЬСТВИЯ.";
			mes "Эй, ты куда! Вернись~!";
		}
		close;
	}
	if (SAGE_Q == 13) {
		if (SAGE_Q2 == 0) {
			mes "Привет~? Приятно тебя видеть, хе-хе.";
			mes "Ты ко мне? О, ты студент" + (Sex?"":"ка") + "!";
			next;
			mes "[Эбиси Джордж]";
			mes "Хи-хи, я твой профессор, Эбиси Джордж.";
			mes "Ну... тебе хорошо со мной, дорогуша? " + (Sex?"Ты случаем не гей?":"У тебя уже есть парень, м?") + " Хи-хи~";
			next;
			mes "[Эбиси Джордж]";
			mes "Но прежде чем мы начнём наши занятия, ты долж" + (Sex?"ен":"на") + " будешь сделать мне... одолжение.";
			mes "Не пугайся, это небольшое одолженьице. Хе-хе~";
			next;
			mes "[Эбиси Джордж]";
			mes "Принеси мне ^3355FF30 "+getitemname(7049)+"^000000, вот и всё.";
			mes "Не так уж трудно, правда?";
			next;
			set SAGE_Q2,1;
			changequest 2049,2060;
			mes "[Эбиси Джордж]";
			mes "Почему бы тебе не попросить какого-нибудь вора наковырять булыжников?";
			mes "Мы начнём занятия, когда ты принесёшь мне эти камни~ хе-хе~";
			close;
		}
		else if (SAGE_Q2 == 1) {
			if (countitem(7049) > 29) {
				mes "Ох~ как мило! Ты прин" + (Sex?"ёс":"есла") + " их~ спасибо~";
				mes "Ох, не мог" + (Sex?"":"ла") + " бы ты чуточку подождать? Мне нужно кое-что сделать, прежде чем мы начнём. Хе-хе~";
				next;
				mes "[Эбиси Джордж]";
				mes "Абракадабра!!";
				next;
				mes "[Эбиси Джордж]";
				mes "Абра~кадабра!!";
				next;
				mes "[Эбиси Джордж]";
				mes "Аб~ра~ка~дабра!!";
				next;
				delitem 7049,30; //Stone
				mes "[Эбиси Джордж]";
				mes "Хе-хе, капризные камни~";
				mes "Только 3 из них согласились поработать на меня. Хе-хе~";
				next;
				mes "[Эбиси Джордж]";
				mes "А теперь будь добр" + (Sex?"":"а") + ", сделай ещё одно одолжение. Ох, эти слёзы от... радости?";
				mes "Ох, я тоже тааак взволнован! Хе-хе~";
				next;
				getitem 991,1; //Crystal_Blue
				getitem 993,1; //Yellow_Live
				getitem 992,1; //Wind_Of_Verdure
				mes "[Эбиси Джордж]";
				mes "Я дам тебе эти элементальные руды... но... не даром.";
				mes "Эй, " + (Sex?"ковбой":"принцесса") + "! Не спеши убегать~ Послушай, хе-хе~";
				set SAGE_Q2,2;
				changequest 2060,2061;
				next;
				mes "[Эбиси Джордж]";
				mes "Сделай из этих камней стрелы и принеси их мне, будь так любез" + (Sex?"ен":"на") + "~";
				mes "50 ^3355FF"+getitemname(1754)+"^000000,";
				mes "50 ^3355FF"+getitemname(1756)+"^000000,";
				mes "50 ^3355FF"+getitemname(1755)+"^000000.";
				next;
				mes "[Эбиси Джордж]";
				mes "Попроси кого-нибудь из лукарей, если знаешь таких.";
				mes "Я с нетерпением жду твоего возвращения, хе-хе~";
				close;
			}
			else {
				mes "У тебя недостаёт камней? А я тут такой готовый и скучающий~";
				mes "Давай, дорогуша, поспеши~";
				next;
				mes "[Эбиси Джордж]";
				mes "Я попросил принести ^3355FF30 "+getitemname(7049)+"^000000.";
				mes "Их везде полно~ Хе-хе.";
				close;
			}
		}
		else if (SAGE_Q2 == 2) {
			if (countitem(1754) > 49 && countitem(1756) > 49 && countitem(1755) > 49) {
				mes "Ох~ Как мило! Ты прин" + (Sex?"ёс":"есла") + " все стрелы до единой~ Ох спасибо~";
				mes "Ну что ж, приступим к делу. Хи-хи~";
				next;
				mes "[Эбиси Джордж]";
				mes "Я буду говорить что-нибудь, а ты всё это записывай.";
				mes "Не забывай подчёркивать важные слова~";
				next;
				mes "[Эбиси Джордж]";
				mes "Магия Воды та-ак сильна против Огня.";
				mes "Вспомни тех больших, сильных, сексуальных пожарных, которые тушат огонь водой. Оох, мокро!";
				next;
				mes "[Эбиси Джордж]";
				mes "Магия Ветра полностью доминирует над Водой! О, да~";
				mes "Подумай о горячей вспышке - я имею в виду молнию - поражающей озеро. Ох, мне плохо!";
				next;
				mes "[Эбиси Джордж]";
				mes "С точки зрения силы, магия Земли идёт выше магии Ветра! Хо~~";
				mes "Только представь, как страстно бьётся ветер в скалы около Обзорной Площадки или Улицы Влюблённых. Хе-хе~";
				next;
				mes "[Эбиси Джордж]";
				mes "Магия Огня сильна против Земли! Хе-хе~";
				mes "Представь дерево, выросшее из земли, горящим в уютном камине. На медвежьей шкуре, в темноте...";
				next;
				mes "[Эбиси Джордж]";
				mes "...О! Время летит тааак быстро!";
				mes "Давай будем считать, что сейчас ещё день, дорогуша, хи-хи~";
				next;
				delitem 1754,50; //Crystal_Arrow
				delitem 1756,50; //Stone_Arrow
				delitem 1755,50; //Arrow_Of_Wind
				mes "[Эбиси Джордж]";
				mes "Когда ты придёшь на следующее занятие, принеси ^3355FF1 "+getitemname(523)+"^000000~";
				mes "Надеюсь, у тебя есть хотя бы один друг среди священников. Нет? Ну, подружиться со священиком никогда не повредит.";
				set SAGE_Q2,3;
				changequest 2061,2062;
				close;
			}
			else {
				mes "Что ты тут делаешь, моя прелесть... Не пытаешься ли ты меня обмануть? Хи-хи~";
				mes "Надеюсь, ты не продал" + (Sex?"":"а") + " те элементальные камни, что я тебе дал? Капризни" + (Sex?"к":"ца") + "~ Ты знаешь, что бриллианты - лучшие друзья девчонок? Хи-хи~";
				next;
				mes "[Эбиси Джордж]";
				mes "50 ^3355FF"+getitemname(1754)+"^000000,";
				mes "50 ^3355FF"+getitemname(1756)+"^000000,";
				mes "50 ^3355FF"+getitemname(1755)+"^000000.";
				mes "Попроси друга-лучника, если у тебя такие есть~ хе-хе.";
				close;
			}
		}
		else if (SAGE_Q2 == 3) {
			if (countitem(523) > 0) {
				mes "Ох~ как мило! Ты прин" + (Sex?"ёс":"есла") + " святую воду~ Спасибо, мил" + (Sex?"ый":"ая") + "~";
				mes "Давай же начнём наше занятие. Хи-хи~";
				next;
				mes "[Эбиси Джордж]";
				mes "Как в прошлый раз, я буду говорить, а ты всё это записывай.";
				mes "Даже если чего-то не понимаешь, притворись и плыви по течению, ладно? Хе-хе~";
				next;
				mes "[Эбиси Джордж]";
				mes "Магия Воды слаба против Ветра! Да, это так~";
				mes "Просто вспомни, почему ты не держишь электрический фен поблизости, когда принимаешь горячую ванну. Оох! Как электризующе!";
				next;
				mes "[Эбиси Джордж]";
				mes "Магия Ветра слаба против Земли!";
				mes "Подумай о том, почему ветер не может, так сказать, проникнуть сквозь грязевую маску для лица~";
				next;
				mes "[Эбиси Джордж]";
				mes "Магия Земли слаба против Огня! Хи-хи~";
				mes "Представь дерево, выросшее из земли, горящим в уютном камине. На мед--ох? Я это уже говорил? Какая жалость.";
				next;
				mes "[Эбиси Джордж]";
				mes "Магия Огня слаба против Воды! Да~";
				mes "Когда что-то загорелось, лучше всего тушить пожар холодной водой. " + (Sex?"Согласен":"Согласна") + "~?";
				next;
				mes "[Эбиси Джордж]";
				mes "Ох, это конец занятия~ Хе-хе.";
				mes "Ну? Как ты думаешь, ты узнал" + (Sex?"":"а") + " много нового? Ты можешь поблагодарить меня, мил" + (Sex?"ый":"ая") + "!";
				next;
				delitem 523,1; //Holy_Water
				mes "[Эбиси Джордж]";
				mes "Ну, это всё. Можешь написать в своей диссертации всё, чему я тебя научил!";
				mes "Хи-хи~ да! Да! Я - лучший учитель в Мире! Ох, я весь горю! Хи-хи~";
				set SAGE_Q2,0;
				set SAGE_Q,14;
				changequest 2062,2051;
				next;
				mes "[Эбиси Джордж]";
				mes "А теперь принеси эти штуки, чтобы написать свою диссертацию, дорогуша~ хе-хе~";
				mes "^3355FF1 Feather of Birds^000000, птичье перо, которым ты будешь писать,";
				mes "^3355FF1 Animal Skin^000000, кожу, которую ты используешь как бумагу,";
				mes "^3355FF1 Trunk^000000, полено, из которого тебе нужно будет сделать переплёт,";
				mes "^3355FF1 Squid Ink^000000, чернила кальмара, которыми ты будешь писать,";
				mes "^3355FF1 Empty Bottle^000000, пустую бутыль, которая послужит чернильницей.";
				next;
				mes "[Эбиси Джордж]";
				mes "Возвращайся поскорее~ Хи-хи~";
				close;
			}
			else {
				mes "Что ты здесь делаешь, прелесть моя... что за игры? Хи-хи.";
				mes "Ох, бедняжка. Ты забыл" + (Sex?"":"а") + ", что я тебе сказал? Хочешь, чтобы я тебе напомнил? Хи-хи~";
				next;
				mes "[Эбиси Джордж]";
				mes "^3355FF1 "+getitemname(523)+"^000000,";
				mes "Иметь в друзьях ако или священника никогда не повредит... Хи-хи.";
				close;
			}
		}
		else {
			mes "Ну так... У тебя появилось свободное время, м? Шучу, " + (Sex?"парень":"принцесса") + "!";
			close;
		}
	}
	else if (SAGE_Q == 14) {
		if (countitem(916) > 0 && countitem(919) > 0 && countitem(1019) > 0 && countitem(1024) > 0 && countitem(713) > 0) {
			delitem 916,1; //Feather_Of_Birds
			delitem 919,1; //Animal's_Skin
			delitem 1019,1; //Wooden_Block
			delitem 1024,1; //Chinese_Ink
			delitem 713,1; //Empty_Bottle
			mes "Давай~ Сейчас или никогда~ хе-хе~";
			mes "Я научил тебя всему, что знаю сам. Не нервничай, ты справишься~";
			next;
			mes "..........";
			next;
			mes "....................";
			next;
			mes ".................................";
			next;
			mes ".....Магия бывает 4 элементов, таких как";
			switch(select("Вода, Земля, Огонь и Ветер.:Земля, Вода, Огонь и Ветер.:Вода, Ветер, Земля и Огонь.")) {
			case 1:
				mes "Вода, Земля, Огонь и Ветер.";
				break;
			case 2:
				mes "Земля, Вода, Огонь и Ветер.";
				break;
			case 3:
				mes "Вода, Ветер, Земля и Огонь.";
				break;
			}
			mes "Каждый элемент имеет противоположный элемент,";
			switch(select("Магия Ветра сильна против Воды:Магия Воды сильна против Огня:Магия Огня сильна против Земли")) {
			case 1:
				mes "Магия Ветра сильна против Воды,";
				break;
			case 2:
				mes "Магия Воды сильна против Огня,";
				break;
			case 3:
				mes "Магия Огня сильна против Земли,";
				break;
			}
			mes "Магия Земли сильна против Ветра.";
			switch(select("Однако это не работает в обратной ситуации.:Это справедливо и для элементального оружия:Элемент монстра зависит от его типа.")) {
			case 1:
				mes "Однако это не работает в обратной ситуации.";
				break;
			case 2:
				mes "Эта теория справедлива и в случае элементального оружия.";
				break;
			case 3:
				mes "Монстры разных типов имеют разные элементы.";
				break;
			}
			switch(select("Необходимо осознавать пределы своих возможностей.:Выбор элемента зависит от обстоятельств.:Красное зелье, по слухам, имеет клубничный вкус.")) {
			case 1:
				mes "Необходимо осознавать пределы своих возможностей.";
				break;
			case 2:
				mes "При выборе элемента необходимо учитывать обстоятельства и место.";
				break;
			case 3:
				mes "Красное зелье, по слухам, имеет клубничный вкус.";
				break;
			}
			next;
			switch(select("" + (Sex?"Самая милая NPC - ЙюПи в Пронтере.":"Самый симпатичный NPC - Тоно в Пронтере.") + ":По слухам, красные зелья делают из порингов:Мы никогда не узнаем пределов магии")) {
			case 1:
				mes "" + (Sex?"Самая милая NPC - ЙюПи в Пронтере.":"Самый симпатичный NPC - Тоно в Пронтере.") + "";
				break;
			case 2:
				mes "По слухам, красные зелья делают из порингов.";
				break;
			case 3:
				mes "Мы никогда не узнаем пределов магии.";
				break;
			}
			switch(select("" + (Sex?"Торговка в Морроке тоже ничего.":"Ювелир в Морроке тоже ничего.") + ":Никто не знает, почему Красное зелье имеет клубничный вкус.:Не рекомендуется чересчур увлекаться заклинаниями.")) {
			case 1:
				mes "" + (Sex?"Торговка в Морроке тоже ничего.":"Ювелир в Морроке тоже ничего.") + "";
				break;
			case 2:
				mes "Никто не знает, почему Красное зелье имеет клубничный вкус.";
				break;
			case 3:
				mes "Не рекомендуется чересчур увлекаться заклинаниями.";
				break;
			}
			switch(select("" + (Sex?"Если бы у меня был 'Bunny Band',":"Если бы у меня была бумага в сердечко,") + ":А раз так, что насчёт вкуса Белого зелья?:Только уместность магии, как и отдыха,")) {
			case 1:
				mes "" + (Sex?"Если бы у меня был 'Bunny Band',":"Если бы у меня была бумага в сердечко,") + "";
				break;
			case 2:
				mes "А раз так, что насчёт вкуса Белого зелья?";
				break;
			case 3:
				mes "Только уместность магии, как и отдыха,";
				break;
			}
			switch(select("" + (Sex?"я бы подарил его ей.":"я бы написала ему письмо.") + ":Я не могу себе представить его вкус.:гарантирует успешный исход сражения.")) {
			case 1:
				mes "" + (Sex?"я бы подарил его ей.":"я бы написала ему письмо.") + "";
				break;
			case 2:
				mes "Я не могу себе представить его вкус.";
				break;
			case 3:
				mes "гарантирует успешный исход сражения.";
				break;
			}
			switch(select("" + (Sex?"Хотя 'Bunny Band' лучше всего подходит ако":"Хотя лучше бумага в ангелинга.") + ":Мне нравится это волнующее чувство:Собрать команду из людей разных классов")) {
			case 1:
				mes "" + (Sex?"Хотя 'Bunny Band' лучше всего подходит ако":"Хотя лучше бумага в ангелинга.") + "";
				break;
			case 2:
				mes "Мне нравится это волнующее чувство";
				break;
			case 3:
				mes "Собрать команду из людей разных классов";
				break;
			}
			switch(select("" + (Sex?"Я удивлюсь, если он подойдёт БОГ-ПОИНГу.":"Но главное не в БОГ-ПОИНГа.") + ":Я не смогу его выпить, даже если у меня останется меньше 1 HP.:считается лучшим способом приготовиться к битве.")) {
			case 1:
				mes "" + (Sex?"Я удивлюсь, если он подойдёт БОГ-ПОИНГу.":"Но главное не в БОГ-ПОИНГа.") + "";
				break;
			case 2:
				mes "Я не смогу его выпить, даже если у меня останется меньше 1 HP.";
				break;
			case 3:
				mes "считается лучшим способом приготовиться к битве.";
				break;
			}
			next;
			mes "..........";
			next;
			mes "....................";
			next;
			mes ".................................";
			next;
			set SAGE_Q,15;
			changequest 2051,2052;
			mes "[Эбиси Джордж]";
			mes "Хи-хи, итак... ты закончил" + (Sex?"":"а") + "? Что ты думаешь о своей работе? Мне кажется, ты молодец~";
			mes "Не забывай, это первая и последняя твоя диссертация, да? Хи-хи~";
			getitem 1550,1; //Book
			next;
			mes "[Эбиси Джордж]";
			mes "Ну вот, теперь можешь показать её декану~";
			mes "Да ты уже почти там~ Хе-хе.";
			close;
		}
		else {
			mes "Что ты до сих пор здесь делаешь, " + (Sex?"цыплёнок":"цыпа") + "? Хи-хи~";
			mes "Ох, бедняжка. Забыл" + (Sex?"":"а") + ", что я тебе говорил? Хочешь, чтобы я напомнил? Нет проблем, хе-хе.";
			next;
			mes "[Эбиси Джордж]";
			mes "^3355FF1 "+getitemname(916)+"^000000, птичье перо, которым ты будешь писать,";
			mes "^3355FF1 "+getitemname(919)+"^000000, кожу, которую ты используешь как бумагу,";
			mes "^3355FF1 "+getitemname(1019)+"^000000, полено, из которого тебе нужно будет сделать переплёт,";
			mes "^3355FF1 "+getitemname(1024)+"^000000, чернила кальмара, которыми ты будешь писать,";
			mes "^3355FF1 "+getitemname(713)+"^000000, пустую бутыль, которая послужит чернильницей.";
			next;
			mes "[Эбиси Джордж]";
			mes "Предполагается, что ты приготовишь всё это, правда?";
			mes "Возвращайся поскорее~! Хе-хе~";
			close;
		}
	}
	else if (SAGE_Q == 15) {
		mes "Что ты тут делаешь, дорогуша? Ты что, не хочешь встретиться с деканом и показать ему свою работу?";
		mes "Поверь мне, такие парни, как он, не любят долго ждать, хи-хи~";
		next;
		mes "[Эбиси Джордж]";
		mes "Знаю, знаю... ты хочешь сначала поиграться со мной. Но тебе лучше сначала стать Сагом.";
		mes "Поспеши, хе-хе.";
		close;
	}
	else {
		mes "Так-так, что у нас тут?";
		next;
		mes "[Эбиси Джордж]";
		mes "Ты не Саг. Какая жалость, так" + (Sex?"ой":"ая") + " милашка...";
		mes "Но раз ты тут не по делу, значит, ты приш" + (Sex?"ёл":"ла") + " ради...";
		next;
		mes "[Эбиси Джордж]";
		mes "...УДОВОЛЬСТВИЯ. Погоди, куда же ты?..";
		close;
	}
}

job_sage,50,165,4	script	Test Helper#talk	700,{
	mes "[Ассистент]";
	mes "Добро пожаловать в зал практического тестирования.";
	mes "Если вы желаете начать тест прямо сейчас, пожалуйста, войдите в Зал ожидания.";
	next;
	mes "[Ассистент]";
	mes "Если кто-то в данный момент проходит тест, пожалуйста, подождите.";
	mes "Прогресс теста анонсируется на тестовой локации. Также будет обьявлено, когда следующий человек будет готов покинуть тестовую комнату.";
	next;
	mes "[Ассистент]";
	mes "Тест заннимает 5 ~ 10 минут.";
	mes "Если вы желаете досрочно выйти из тестовой комнаты, пожалуйста, перезайдите в игру.";
	close;
}

job_sage,50,165,4	script	Waiting Room#sg	700,{
OnInit:
	disablenpc "Waiting Room#sg";
	waitingroom "Зал ожидания",20,"Waiting Room#sg::OnStartArena",1;
	enablewaitingroomevent;
	end;

OnStartArena:
	warpwaitingpc "job_sage",116,97;
	donpcevent "Arena#1::OnEnable";
	disablewaitingroomevent;
	end;

OnEnable:
	enablewaitingroomevent;
	end;
}

-	script	Arena#1	66,{
OnInit:
	disablenpc "Arena#1";
	end;

OnEnable:
	enablenpc "Arena#1";
	set .MyMobs,16;
	monster "job_sage",111,102,"Оценка F",1183,1,"Arena#1::OnMyMobDead";
	monster "job_sage",120,102,"Оценка F",1183,1,"Arena#1::OnMyMobDead";
	monster "job_sage",111,93,"Оценка F",1183,1,"Arena#1::OnMyMobDead";
	monster "job_sage",120,93,"Оценка F",1183,1,"Arena#1::OnMyMobDead";
	monster "job_sage",107,98,"Оценка F",1183,1,"Arena#1::OnMyMobDead";
	monster "job_sage",124,98,"Оценка F",1183,1,"Arena#1::OnMyMobDead";
	monster "job_sage",115,106,"Оценка F",1183,1,"Arena#1::OnMyMobDead";
	monster "job_sage",115,90,"Оценка F",1183,1,"Arena#1::OnMyMobDead";
	monster "job_sage",103,110,"Оценка D",1184,1,"Arena#1::OnMyMobDead";
	monster "job_sage",128,110,"Оценка D",1184,1,"Arena#1::OnMyMobDead";
	monster "job_sage",103,85,"Оценка D",1184,1,"Arena#1::OnMyMobDead";
	monster "job_sage",128,85,"Оценка D",1184,1,"Arena#1::OnMyMobDead";
	monster "job_sage",107,106,"Оценка D",1184,1,"Arena#1::OnMyMobDead";
	monster "job_sage",124,106,"Оценка D",1184,1,"Arena#1::OnMyMobDead";
	monster "job_sage",107,89,"Оценка D",1184,1,"Arena#1::OnMyMobDead";
	monster "job_sage",124,89,"Оценка D",1184,1,"Arena#1::OnMyMobDead";
	initnpctimer;
	end;

OnReset:
	killmonsterall "job_sage";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		mapannounce "job_sage"," " + strcharinfo(0) + ", ваша задача - победить всех монстров.",bc_map;
		donpcevent "Arena#2::OnEnable";
		stopnpctimer;
	}
	end;

OnTimer1000:
	mapannounce "job_sage","Практическое тестирование началось.",bc_map;
	end;

OnTimer2000:
	mapannounce "job_sage","Первая часть - ограничение 3 минуты.",bc_map;
	end;

OnTimer3000:
	mapannounce "job_sage","Ваша задача победить всех монстров за указанное время.",bc_map;
	end;

OnTimer33000:
	mapannounce "job_sage","Оставшееся время: 2 мин. 30 сек.",bc_map;
	end;

OnTimer63000:
	mapannounce "job_sage","Оставшееся время: 2 мин. 00 сек",bc_map;
	end;

OnTimer93000:
	mapannounce "job_sage","Оставшееся время: 1 мин. 30 сек",bc_map;
	end;

OnTimer123000:
	mapannounce "job_sage","Оставшееся время: 1 мин. 00 сек",bc_map;
	end;

OnTimer153000:
	mapannounce "job_sage","Оставшееся время: 0 мин. 30 сек",bc_map;
	end;

OnTimer173000:
	mapannounce "job_sage","Оставшееся время: 0 мин. 10 сек",bc_map;
	end;

OnTimer183000:
	mapannounce "job_sage","Временной лимит исчерпан",bc_map;
	donpcevent "Arena#1::OnReset";
	end;

OnTimer184000:
	areawarp "job_sage",100,82,131,113,"yuno",324,258;
	end;

OnTimer185000:
	mapannounce "job_sage","Следующий кандидат, заходите.",bc_map;
	end;

OnTimer186000:
	disablenpc "Arena#1";
	donpcevent "Waiting Room#sg::OnEnable";
	stopnpctimer;
	end;
}

-	script	Arena#2	-1,{
OnInit:
	disablenpc "Arena#2";
	end;

OnEnable:
	enablenpc "Arena#2";
	donpcevent "Arena#1::OnReset";
	disablenpc "Arena#1";
	set .MyMobs,24;
	monster "job_sage",111,102,"Численные величины",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",111,102,"Физика",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",111,102,"История",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",120,102,"География",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",120,102,"Астрономия",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",120,102,"Метеорология",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",111,93,"Архитектура",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",111,93,"Контроль",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",111,93,"Методология",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",120,102,"Статистика",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",120,102,"Графические методы",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",120,102,"Языкознание",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",111,93,"Цитология",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",111,93,"Диететика",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",111,93,"Ландшафтная архитектура",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",120,93,"Антропология",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",120,93,"Биология",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",120,93,"Этика",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",107,98,"Экономика",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",107,98,"Политика",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",107,98,"Фотография",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",124,98,"Дендрология",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",124,98,"Гигиена",1063,1,"Arena#2::OnMyMobDead";
	monster "job_sage",124,98,"Социология",1063,1,"Arena#2::OnMyMobDead";
	initnpctimer;
	end;

OnReset:
	killmonsterall "job_sage";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		mapannounce "job_sage"," " + strcharinfo(0) + " выполнил" + (Sex?"":"а") + " задание.",bc_map;
		donpcevent "Arena#Doorkeeper::OnEnable";
		donpcevent "Arena#3::OnEnable";
		stopnpctimer;
	}
	end;

OnTimer1000:
	mapannounce "job_sage","Вторая часть - ограничение 3 минуты.",bc_map;
	end;

OnTimer2000:
	mapannounce "job_sage","Ваша задача победить всех монстров за указанное время.",bc_map;
	end;

OnTimer33000:
	mapannounce "job_sage","Оставшееся время: 2 мин. 30 сек.",bc_map;
	end;

OnTimer63000:
	mapannounce "job_sage","Оставшееся время: 2 мин. 00 сек.",bc_map;
	end;

OnTimer93000:
	mapannounce "job_sage","Оставшееся время: 1 мин. 30 сек.",bc_map;
	end;

OnTimer123000:
	mapannounce "job_sage","Оставшееся время: 1 мин. 00 сек.",bc_map;
	end;

OnTimer153000:
	mapannounce "job_sage","Оставшееся время: 0 мин. 30 сек.",bc_map;
	end;

OnTimer173000:
	mapannounce "job_sage","Оставшееся время: 0 мин. 10 сек.",bc_map;
	end;

OnTimer183000:
	mapannounce "job_sage","Временной лимит исчерпан.",bc_map;
	donpcevent "Arena#2::OnReset";
	end;

OnTimer184000:
	areawarp "job_sage",100,82,131,113,"yuno",324,258;
	end;

OnTimer185000:
	mapannounce "job_sage","Следующий кандидат, заходите.",bc_map;
	end;

OnTimer186000:
	disablenpc "Arena#2";
	donpcevent "Waiting Room#sg::OnEnable";
	stopnpctimer;
	end;
}

-	script	Arena#Doorkeeper	-d1,{
OnInit:
	disablenpc "Arena#Doorkeeper";
	end;

OnEnable:
	enablenpc "Arena#Doorkeeper";
	donpcevent "Arena#2::OnReset";
	disablenpc "Arena#2";
	set .MyMobs,1;
	monster "job_sage",116,97,"Испытательный срок",1179,1,"Arena#Doorkeeper::OnMyMobDead";
	initnpctimer;
	end;

OnReset:
	killmonsterall "job_sage";
	end;

OnDisable:
	disablenpc "Arena#3";
	disablenpc "Arena#Doorkeeper";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		mapannounce "job_sage","Поздравляем, " + strcharinfo(0) + ". Вы прошли тестирование.",bc_map;
		set SAGE_Q,8;
		donpcevent "Test Helper#sg::OnEnable";
		disablenpc "Arena#Doorkeeper";
		stopnpctimer;
	}
	end;

OnTimer1000:
	mapannounce "job_sage","Третья часть - ограничение 1 минута.",bc_map;
	end;

OnTimer30000:
	mapannounce "job_sage","Оставшееся время: 0 мин. 30 сек.",bc_map;
	end;

OnTimer50000:
	mapannounce "job_sage","Оставшееся время: 0 мин. 10 сек.",bc_map;
	end;

OnTimer60000:
	mapannounce "job_sage","Временной лимит исчерпан.",bc_map;
	donpcevent "Arena#Doorkeeper::OnReset";
	end;

OnTimer61000:
	areawarp "job_sage",100,82,131,113,"yuno",324,258;
	end;

OnTimer62000:
	mapannounce "job_sage","Следующий кандидат, заходите.",bc_map;
	end;

OnTimer63000:
	disablenpc "Arena#Doorkeeper";
	donpcevent "Waiting Room#sg::OnEnable";
	stopnpctimer;
	end;
}

-	script	Arena#3	-1,{
OnInit:
	disablenpc "Arena#3";
	end;

OnEnable:
	monster "job_sage",107,106,"3 неявки",1185,1;
	monster "job_sage",124,106,"5 опозданий",1185,1;
	monster "job_sage",107,89,"2 списывания",1185,1;
	monster "job_sage",124,89,"4 списывания",1185,1;
	end;

OnDisable:
	killmonsterall "job_sage";
	end;
}

-	script	Test Helper#sg	-1,{
OnInit:
	disablenpc "Test Helper#sg";
	end;

OnEnable:
	initnpctimer;
	end;

OnTimer2000:
	mapannounce "job_sage","Пожалуйста, возвращайтесь туда, откуда пришли, и закончите свой квест на профессию.",bc_map;
	end;

OnTimer4000:
	mapannounce "job_sage","Конец практического тестирования. Следующий кандидат, приготовьтесь.",bc_map;
	end;

OnTimer5000:
	areawarp "job_sage",100,82,131,113,"yuno_in03",163,180;
	end;

OnTimer7000:
	mapannounce "job_sage","Следующий кандидат, заходите.",bc_map;
	end;

OnTimer9000:
	disablenpc "Test Helper#sg";
	donpcevent "Waiting Room#sg::OnEnable";
	stopnpctimer;
	end;
}

//============================================================ 
// Mapflag
//============================================================ 

//============================================================ 
// Old changelog
//============================================================ 
//= Script mostly based on translated jA script
//= Written test questions/answers weren't translated 100% corectly
//= So a lot of those are based upon mRO site and my own info
//= IF you by excident have (or can get) screenshots of these questions
//= Then PLEASE send them to Darkchild
//= 1.3 Baby class Support added [Lupus] 1.5 Fixed possible EXP abuse [Lupus]
//= 1.6 Added a func which prevent advanced classes passing
//= 2nd Job Quests again. It also guides adv classes where to go. [Lupus]
//= 1.7 Fixed tuition fee. Fixed some answers, names & typos, added missing labels [Lupus]
//= 1.7a Moved JFunc back in the main file, fixed typos [Lupus]
//= 2.0 Changed numbers to constants. [Vicious]
//= 2.0a Fixed double warp [KarLaeda] 2.0b Mantis Scythe Item name fix
